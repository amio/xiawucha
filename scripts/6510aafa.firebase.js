function AngularFire(e,t,i,n){this._q=e,this._parse=t,this._timeout=i,this._initial=!0,this._remoteValue=!1,this._fRef="string"==typeof n?new Firebase(n):n}!function(){function g(a){throw a}function aa(a){return function(){return this[a]}}function r(a){return function(){return a}}function ca(){}function da(a){a.xc=function(){return a.bd?a.bd:a.bd=new a}}function ea(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function u(a){return a!==j}function fa(a){var b=ea(a);return"array"==b||"object"==b&&"number"==typeof a.length}function v(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){var b=typeof a;return"object"==b&&a!=l||"function"==b}function ia(a){return a.call.apply(a.bind,arguments)}function ja(a,b){if(a||g(Error()),2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function w(){return w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja,w.apply(l,arguments)}function ka(a,b){function c(){}c.prototype=b.prototype,a.Vd=b.prototype,a.prototype=new c}function la(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}g(Error("Invalid JSON string: "+a))}function ma(){this.dc=j}function na(a,b,c){switch(typeof b){case"string":oa(b,c);break;case"number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case"boolean":c.push(b);break;case"undefined":c.push("null");break;case"object":if(b==l){c.push("null");break}if("array"==ea(b)){var d=b.length;c.push("[");for(var e="",f=0;d>f;f++)c.push(e),e=b[f],na(a,a.dc?a.dc.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{"),d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),oa(f,c),c.push(":"),na(a,a.dc?a.dc.call(b,f,e):e,c),d=","));c.push("}");break;case"function":break;default:g(Error("Unknown type: "+typeof b))}}function oa(a,b){b.push('"',a.replace(qa,function(a){if(a in pa)return pa[a];var b=a.charCodeAt(0),e="\\u";return 16>b?e+="000":256>b?e+="00":4096>b&&(e+="0"),pa[a]=e+b.toString(16)}),'"')}function y(a){if("undefined"!=typeof JSON&&u(JSON.stringify))a=JSON.stringify(a);else{var b=[];na(new ma,a,b),a=b.join("")}return a}function ra(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);e>=55296&&56319>=e&&(e-=55296,d++,z(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320)),128>e?b[c++]=e:(2048>e?b[c++]=192|e>>6:(65536>e?b[c++]=224|e>>12:(b[c++]=240|e>>18,b[c++]=128|63&e>>12),b[c++]=128|63&e>>6),b[c++]=128|63&e)}return b}function A(a,b,c,d){var e;b>d?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c),e&&g(Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+"."))}function B(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:sa.assert(o,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return a+" failed: "+(d+" argument ")}function C(a,b,c,d){(!d||u(c))&&"function"!=ea(c)&&g(Error(B(a,b,d)+"must be a valid function."))}function ta(a,b,c){u(c)&&(!ha(c)||c===l)&&g(Error(B(a,b,k)+"must be a valid context object."))}function D(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function ua(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0}function xa(a){return v(a)&&0!==a.length&&!va.test(a)}function ya(a,b,c){(!c||u(b))&&za(B(a,1,c),b)}function za(a,b,c,d){if(c||(c=0),d||(d=[]),u(b)||g(Error(a+"contains undefined"+Aa(d))),"function"==ea(b)&&g(Error(a+"contains a function"+Aa(d)+" with contents: "+b.toString())),Ba(b)&&g(Error(a+"contains "+b.toString()+Aa(d))),c>1e3&&g(new TypeError(a+"contains a cyclic object value ("+d.slice(0,100).join(".")+"...)")),v(b)&&b.length>10485760/3&&10485760<ra(b).length&&g(Error(a+"contains a string greater than 10485760 utf8 bytes"+Aa(d)+" ('"+b.substring(0,50)+"...')")),ha(b))for(var e in b)D(b,e)&&(".priority"!==e&&".value"!==e&&".sv"!==e&&!xa(e)&&g(Error(a+"contains an invalid key ("+e+")"+Aa(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')),d.push(e),za(a,b[e],c+1,d),d.pop())}function Aa(a){return 0==a.length?"":" in property '"+a.join(".")+"'"}function Ca(a,b){ha(b)||g(Error(B(a,1,o)+" must be an object containing the children to replace.")),ya(a,b,o)}function Da(a,b,c,d){!(d&&!u(c)||c===l||ga(c)||v(c)||ha(c)&&D(c,".sv")||!g(Error(B(a,b,d)+"must be a valid firebase priority (null or a string.)")))}function Ea(a,b,c){if(!c||u(b))switch(b){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:g(Error(B(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".'))}}function Fa(a,b){u(b)&&!xa(b)&&g(Error(B(a,2,k)+'must be a valid firebase key (non-empty string, not containing ".", "#", "$", "/", "[", or "]").'))}function Ga(a,b){(!v(b)||0===b.length||wa.test(b))&&g(Error(B(a,1,o)+'must be a non-empty string and can\'t contain ".", "#", "$", "[", or "]".'))}function E(a,b){".info"===G(b)&&g(Error(a+" failed: Can't modify data under /.info/"))}function H(a,b,c,d,e,f,h){this.u=a,this.path=b,this.za=c,this.da=d,this.sa=e,this.xa=f,this.Qa=h,u(this.da)&&u(this.xa)&&u(this.za)&&g("Query: Can't combine startAt(), endAt(), and limit().")}function Ia(a){var b={};return u(a.da)&&(b.sp=a.da),u(a.sa)&&(b.sn=a.sa),u(a.xa)&&(b.ep=a.xa),u(a.Qa)&&(b.en=a.Qa),u(a.za)&&(b.l=a.za),u(a.da)&&u(a.sa)&&a.da===l&&a.sa===l&&(b.vf="l"),b}function Ha(a,b,c){var d={};return b&&c?(d.cancel=b,C(a,3,d.cancel,k),d.S=c,ta(a,4,d.S)):b&&("object"==typeof b&&b!==l?d.S=b:"function"==typeof b?d.cancel=b:g(Error(B(a,3,k)+"must either be a cancel callback or a context object."))),d}function K(a){if(a instanceof K)return a;if(1==arguments.length){this.m=a.split("/");for(var b=0,c=0;c<this.m.length;c++)0<this.m[c].length&&(this.m[b]=this.m[c],b++);this.m.length=b,this.Z=0}else this.m=arguments[0],this.Z=arguments[1]}function G(a){return a.Z>=a.m.length?l:a.m[a.Z]}function Ka(a){var b=a.Z;return b<a.m.length&&b++,new K(a.m,b)}function La(a,b){var c=G(a);return c===l?b:c===G(b)?La(Ka(a),Ka(b)):(g("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")"),void 0)}function Ma(){this.children={},this.pc=0,this.value=l}function Na(a,b,c){this.Aa=a?a:"",this.Ab=b?b:l,this.z=c?c:new Ma}function L(a,b){for(var e,c=b instanceof K?b:new K(b),d=a;(e=G(c))!==l;)d=new Na(e,d,ua(d.z.children,e)||new Ma),c=Ka(c);return d}function M(a,b){z("undefined"!=typeof b),a.z.value=b,Oa(a)}function Pa(a,b,c,d){c&&!d&&b(a),a.w(function(a){Pa(a,b,k,d)}),c&&d&&b(a)}function Qa(a,b,c){for(a=c?a:a.parent();a!==l;){if(b(a))return k;a=a.parent()}return o}function Oa(a){if(a.Ab!==l){var b=a.Ab,c=a.Aa,d=a.f(),e=D(b.z.children,c);d&&e?(delete b.z.children[c],b.z.pc--,Oa(b)):!d&&!e&&(b.z.children[c]=a.z,b.z.pc++,Oa(b))}}function N(a,b){this.Na=a?a:Ra,this.ca=b?b:Sa}function Ra(a,b){return b>a?-1:a>b?1:0}function Ta(a,b){for(var c,d=a.ca,e=l;!d.f();){if(c=a.Na(b,d.key),0===c){if(d.left.f())return e?e.key:l;for(d=d.left;!d.right.f();)d=d.right;return d.key}0>c?d=d.left:c>0&&(e=d,d=d.right)}g(Error("Attempted to find predecessor key for a nonexistent key.  What gives?"))}function Ua(a,b){for(this.jd=b,this.Qb=[];!a.f();)this.Qb.push(a),a=a.left}function Va(a){if(0===a.Qb.length)return l;var c,b=a.Qb.pop();for(c=a.jd?a.jd(b.key,b.value):{key:b.key,value:b.value},b=b.right;!b.f();)a.Qb.push(b),b=b.left;return c}function Wa(a,b,c,d,e){this.key=a,this.value=b,this.color=c!=l?c:k,this.left=d!=l?d:Sa,this.right=e!=l?e:Sa}function Xa(a){return a.left.f()?a:Xa(a.left)}function ab(a){return a.left.f()?Sa:(!a.left.M()&&!a.left.left.M()&&(a=bb(a)),a=a.copy(l,l,l,ab(a.left),l),$a(a))}function $a(a){return a.right.M()&&!a.left.M()&&(a=eb(a)),a.left.M()&&a.left.left.M()&&(a=cb(a)),a.left.M()&&a.right.M()&&(a=db(a)),a}function bb(a){return a=db(a),a.right.left.M()&&(a=a.copy(l,l,l,l,cb(a.right)),a=eb(a),a=db(a)),a}function eb(a){var b;return b=a.copy(l,l,k,l,a.right.left),a.right.copy(l,l,a.color,b,l)}function cb(a){var b;return b=a.copy(l,l,k,a.left.right,l),a.left.copy(l,l,a.color,l,b)}function db(a){var b,c;return b=a.left.copy(l,l,!a.left.color,l,l),c=a.right.copy(l,l,!a.right.color,l,l),a.copy(l,l,!a.color,b,c)}function fb(){}function jb(){}function kb(){this.B=[],this.oc=[],this.rd=[],this.Wb=[],this.Wb[0]=128;for(var a=1;64>a;++a)this.Wb[a]=0;this.reset()}function lb(a,b){var c;c||(c=0);for(var d=a.rd,e=c;c+64>e;e+=4)d[e/4]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3];for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=4294967295&(f<<1|f>>>31)}c=a.B[0];for(var p,h=a.B[1],i=a.B[2],m=a.B[3],n=a.B[4],e=0;80>e;e++)40>e?20>e?(f=m^h&(i^m),p=1518500249):(f=h^i^m,p=1859775393):60>e?(f=h&i|m&(h|i),p=2400959708):(f=h^i^m,p=3395469782),f=4294967295&(c<<5|c>>>27)+f+n+p+d[e],n=m,m=i,i=4294967295&(h<<30|h>>>2),h=c,c=f;a.B[0]=4294967295&a.B[0]+c,a.B[1]=4294967295&a.B[1]+h,a.B[2]=4294967295&a.B[2]+i,a.B[3]=4294967295&a.B[3]+m,a.B[4]=4294967295&a.B[4]+n}function mb(){this.Ma={},this.length=0}function pb(a,b,c,d){this.host=a.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.ec=b,this.tb=c,this.fa=d||nb.getItem(a)||this.host}function qb(a,b){b!==a.fa&&(a.fa=b,"s-"===a.fa.substr(0,2)&&nb.setItem(a.host,a.fa))}function vb(){return ba.navigator?ba.navigator.userAgent:l}function Fb(a,b){if(fa(a)||g(Error("encodeByteArray takes an array as a parameter")),!Db){Db={},Eb={};for(var c=0;65>c;c++)Db[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),Eb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}for(var c=b?Eb:Db,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,i=h?a[e+1]:0,m=e+2<a.length,n=m?a[e+2]:0,p=f>>2,f=(3&f)<<4|i>>4,i=(15&i)<<2|n>>6,n=63&n;m||(n=64,h||(i=64)),d.push(c[p],c[f],c[i],c[n])}return d.join("")}function z(a,b){a||g(Error("Firebase INTERNAL ASSERT FAILED:"+b))}function Ib(a){var b=ra(a),a=new kb;a.update(b);var b=[],c=8*a.Sc;56>a.nb?a.update(a.Wb,56-a.nb):a.update(a.Wb,64-(a.nb-56));for(var d=63;d>=56;d--)a.oc[d]=255&c,c/=256;for(lb(a,a.oc),d=c=0;5>d;d++)for(var e=24;e>=0;e-=8)b[c++]=255&a.B[d]>>e;return Fb(b)}function Jb(){for(var a="",b=0;b<arguments.length;b++)a=fa(arguments[b])?a+Jb.apply(l,arguments[b]):"object"==typeof arguments[b]?a+y(arguments[b]):a+arguments[b],a+=" ";return a}function P(){if(Lb===k&&(Lb=o,Kb===l&&"true"===nb.getItem("logging_enabled")&&Mb(k)),Kb){var a=Jb.apply(l,arguments);Kb(a)}}function Nb(a){return function(){P(a,arguments)}}function Ob(){if("undefined"!=typeof console){var a="FIREBASE INTERNAL ERROR: "+Jb.apply(l,arguments);"undefined"!=typeof console.error?console.error(a):console.log(a)}}function Pb(){var a=Jb.apply(l,arguments);g(Error("FIREBASE FATAL ERROR: "+a))}function Q(){if("undefined"!=typeof console){var a="FIREBASE WARNING: "+Jb.apply(l,arguments);"undefined"!=typeof console.warn?console.warn(a):console.log(a)}}function Ba(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function Qb(a,b){return a!==b?a===l?-1:b===l?1:typeof a!=typeof b?"number"==typeof a?-1:1:a>b?1:-1:0}function Rb(a,b){return b&&a in b?b[a]:(g(Error("Missing required key ("+a+") in object: "+y(b))),void 0)}function Ja(a){if("object"!=typeof a||a===l)return y(a);var c,b=[];for(c in a)b.push(c);b.sort(),c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=y(b[d]),c+=":",c+=Ja(a[b[d]]);return c+"}"}function Sb(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function Tb(a,b){if("array"==ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else Ub(a,b)}function Vb(a){z(!Ba(a));var b,c,d,e;for(0===a?(d=c=0,b=-1/0===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074)))),e=[],a=52;a;a-=1)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;a-=1)e.push(c%2?1:0),c=Math.floor(c/2);for(e.push(b?1:0),e.reverse(),b=e.join(""),c="",a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&(d="0"+d),c+=d;return c.toLowerCase()}function Wb(a,b){this.D=a,z(this.D!==l,"LeafNode shouldn't be created with null value."),this.Ya="undefined"!=typeof b?b:l}function S(a,b){this.n=a||new N,this.Ya="undefined"!=typeof b?b:l}function Yb(a,b,c){S.call(this,a,c),b===l&&(b=new N($b),a.ya(function(a,c){b=b.na({name:a,ia:c.j()},c)})),this.ra=b}function T(a,b){if(a===l)return R;var c=l;if("object"==typeof a&&".priority"in a?c=a[".priority"]:"undefined"!=typeof b&&(c=b),z(c===l||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c),"object"==typeof a&&".value"in a&&a[".value"]!==l&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new Wb(a,c);if(a instanceof Array){var d,c=new S(new N,c);for(d in a)if(D(a,d)&&"."!==d.substring(0,1)){var e=T(a[d]);(e.I()||!e.f())&&(c=c.G(d,e))}return c}var f=[],h={},i=o;return Tb(a,function(b,c){if("string"!=typeof c||"."!==c.substring(0,1)){var d=T(a[c]);d.f()||(i=i||d.j()!==l,f.push({name:c,ia:d.j()}),h[c]=d)}}),d=ac(f,h,o),i?(e=ac(f,h,k),new Yb(d,e,c)):new S(d,c)}function cc(a){this.count=parseInt(Math.log(a+1)/bc),this.Xc=this.count-1,this.td=a+1&parseInt(Array(this.count+1).join("1"),2)}function ac(a,b,c){function d(d,f){var h=n-d,s=n;n-=d;var p=a[h].name,h=new Wa(c?a[h]:p,b[p],f,l,e(h+1,s));i?i.left=h:m=h,i=h}function e(d,f){var h=f-d;if(0==h)return l;if(1==h){var h=a[d].name,i=c?a[d]:h;return new Wa(i,b[h],o,l,l)}var i=parseInt(h/2)+d,m=e(d,i),n=e(i+1,f),h=a[i].name,i=c?a[i]:h;return new Wa(i,b[h],o,m,n)}var f=c?$b:dc;a.sort(f);var h;h=new cc(a.length);for(var i=l,m=l,n=a.length,p=0;p<h.count;++p){var q=!(h.td&1<<h.Xc);h.Xc--;var s=Math.pow(2,h.count-(p+1));q?d(s,o):(d(s,o),d(s,k))}return h=m,h!==l?new N(c?f:l,h):new N(c?f:l)}function $b(a,b){return Qb(a.ia,b.ia)||(a.name!==b.name?a.name<b.name?-1:1:0)}function dc(a,b){return a.name!==b.name?a.name<b.name?-1:1:0}function Xb(a){return"number"==typeof a?"number:"+Vb(a):"string:"+a}function U(a,b){this.z=a,this.bc=b}function ec(a){z("array"==ea(a)&&0<a.length),this.sd=a,this.rb={}}function fc(a,b){var d,c=a.sd;a:{d=function(a){return a===b};for(var e=c.length,f=v(c)?c.split(""):c,h=0;e>h;h++)if(h in f&&d.call(j,f[h])){d=h;break a}d=-1}z(0>d?l:v(c)?c.charAt(d):c[d],"Unknown event: "+b)}function gc(){ec.call(this,["visible"]);var a,b;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!=typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!=typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!=typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden")),this.hb=k,b){var c=this;document.addEventListener(b,function(){var b=!document[a];b!==c.hb&&(c.hb=b,c.Uc("visible",b))},o)}}function hc(a){this.Fc=a,this.Yb=[],this.Pa=0,this.qc=-1,this.Ha=l}function Ub(a,b){for(var c in a)b.call(j,a[c],c,a)}function jc(a){var c,b={};for(c in a)b[c]=a[c];return b}function kc(){this.jb={}}function lc(a,b,c){u(c)||(c=1),D(a.jb,b)||(a.jb[b]=0),a.jb[b]+=c}function mc(a){this.ud=a,this.Pb=l}function nc(a,b){this.Pc={},this.hc=new mc(a),this.o=b,setTimeout(w(this.gd,this),10+6e4*Math.random())}function qc(a){return a=a.toString(),oc[a]||(oc[a]=new kc),oc[a]}function sc(a,b,c){this.rc=a,this.e=Nb(this.rc),this.frames=this.pb=l,this.Rc=0,this.$=qc(b),this.Oa=(b.ec?"wss://":"ws://")+b.fa+"/.ws?v=5",b.host!==b.fa&&(this.Oa=this.Oa+"&ns="+b.tb),c&&(this.Oa=this.Oa+"&s="+c)}function vc(a,b){if(a.frames.push(b),a.frames.length==a.Rc){var c=a.frames.join("");a.frames=l,c="undefined"!=typeof JSON&&u(JSON.parse)?JSON.parse(c):la(c),a.Fd(c)}}function uc(a){clearInterval(a.pb),a.pb=setInterval(function(){a.Y.send("0"),uc(a)},45e3)}function wc(){this.set={}}function V(a,b){for(var c in a.set)D(a.set,c)&&b(c,a.set[c])}function zc(a,b,c){this.rc=a,this.e=Nb(a),this.Ud=b,this.$=qc(b),this.gc=c,this.kb=o,this.Lb=function(a){b.host!==b.fa&&(a.ns=b.tb);var f,c=[];for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.ec?"https://":"http://")+b.fa+"/.lp?"+c.join("&")}}function Cc(a,b,c,d){if(this.Lb=d,this.ha=c,this.Hc=new wc,this.Cb=[],this.sc=Math.floor(1e8*Math.random()),this.fc=k,this.jc=Gb(),window[xc+this.jc]=a,window[yc+this.jc]=b,a=document.createElement("iframe"),a.style.display="none",document.body){document.body.appendChild(a);try{a.contentWindow.document||P("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else g("Document body has not initialized. Wait to initialize Firebase until after the document is ready.");a.contentDocument?a.wa=a.contentDocument:a.contentWindow?a.wa=a.contentWindow.document:a.document&&(a.wa=a.document),this.X=a,a="",this.X.src&&"javascript:"===this.X.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";</script>'),a="<html><body>"+a+"</body></html>";try{this.X.wa.open(),this.X.wa.write(a),this.X.wa.close()}catch(f){P("frame writing exception"),f.stack&&P(f.stack),P(f)}}function Ec(a){if(a.mc&&a.fc&&a.Hc.count()<(0<a.Cb.length?2:1)){a.sc++;var b={};b.id=a.Dd,b.pw=a.Ed,b.ser=a.sc;for(var b=a.Lb(b),c="",d=0;0<a.Cb.length&&1870>=a.Cb[0].Yc.length+30+c.length;){var e=a.Cb.shift(),c=c+"&seg"+d+"="+e.Nd+"&ts"+d+"="+e.Sd+"&d"+d+"="+e.Yc;d++}var b=b+c,f=a.sc;a.Hc.add(f);var h=function(){a.Hc.remove(f),Ec(a)},i=setTimeout(h,25e3);return Dc(a,b,function(){clearTimeout(i),h()}),k}return o}function Dc(a,b,c){setTimeout(function(){try{if(a.fc){var d=a.X.wa.createElement("script");d.type="text/javascript",d.async=k,d.src=b,d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=l,d.parentNode&&d.parentNode.removeChild(d),c())},d.onerror=function(){P("Long-poll script failed to load: "+b),a.fc=o,a.close()},a.X.wa.body.appendChild(d)}}catch(e){}},1)}function Fc(){var a=[];Tb(Gc,function(b,c){c&&c.isAvailable()&&a.push(c)}),this.ic=a}function Hc(a,b,c,d,e,f){this.id=a,this.e=Nb("c:"+this.id+":"),this.Fc=c,this.xb=d,this.Q=e,this.Ec=f,this.N=b,this.Xb=[],this.Vc=0,this.Tc=new Fc,this.ta=0,this.e("Connection created"),Ic(this)}function Ic(a){var b,c=a.Tc;0<c.ic.length?b=c.ic[0]:g(Error("No transports available")),a.L=new b("c:"+a.id+":"+a.Vc++,a.N);var d=Jc(a,a.L),e=Kc(a,a.L);a.Jb=a.L,a.Hb=a.L,a.A=l,setTimeout(function(){a.L&&a.L.open(d,e)},0)}function Kc(a,b){return function(c){b===a.L?(a.L=l,c||0!==a.ta?1===a.ta&&a.e("Realtime connection lost."):(a.e("Realtime connection failed."),"s-"===a.N.fa.substr(0,2)&&(nb.removeItem(a.N.tb),a.N.fa=a.N.host)),a.close()):b===a.A?(c=a.A,a.A=l,(a.Jb===c||a.Hb===c)&&a.close()):a.e("closing an old connection")}}function Jc(a,b){return function(c){if(2!=a.ta)if(b===a.Hb){var d=Rb("t",c),c=Rb("d",c);if("c"==d){if(d=Rb("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.gc=c.s,qb(a.N,f),0==a.ta&&(a.L.start(),c=a.L,a.e("Realtime connection established."),a.L=c,a.ta=1,a.xb&&(a.xb(d),a.xb=l),"5"!==e&&Q("Protocol version mismatch detected"),c=1<a.Tc.ic.length?a.Tc.ic[1]:l)&&(a.A=new c("c:"+a.id+":"+a.Vc++,a.N,a.gc),a.A.open(Jc(a,a.A),Kc(a,a.A)))}else if("n"===d){for(a.e("recvd end transmission on primary"),a.Hb=a.A,c=0;c<a.Xb.length;++c)a.Ub(a.Xb[c]);a.Xb=[],Lc(a)}else"s"===d?(a.e("Connection shutdown command received. Shutting down..."),a.Ec&&(a.Ec(c),a.Ec=l),a.Q=l,a.close()):"r"===d?(a.e("Reset packet received.  New host: "+c),qb(a.N,c),1===a.ta?a.close():(Mc(a),Ic(a))):"e"===d?Ob("Server Error: "+c):Ob("Unknown control packet command: "+d)}else"d"==d&&a.Ub(c)}else b===a.A?(d=Rb("t",c),c=Rb("d",c),"c"==d?"t"in c&&(c=c.t,"a"===c?(a.A.start(),a.e("sending client ack on secondary"),a.A.send({t:"c",d:{t:"a",d:{}}}),a.e("Ending transmission on primary"),a.L.send({t:"c",d:{t:"n",d:{}}}),a.Jb=a.A,Lc(a)):"r"===c&&(a.e("Got a reset on secondary, closing it"),a.A.close(),(a.Jb===a.A||a.Hb===a.A)&&a.close())):"d"==d?a.Xb.push(c):g(Error("Unknown protocol layer: "+d))):a.e("message on old connection")}}function Lc(a){a.Jb===a.A&&a.Hb===a.A&&(a.e("cleaning up and promoting a connection: "+a.A.rc),a.L=a.A,a.A=l)}function Mc(a){a.e("Shutting down all connections"),a.L&&(a.L.close(),a.L=l),a.A&&(a.A.close(),a.A=l)}function Nc(){if(ec.call(this,["online"]),this.yb=k,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.yb||a.Uc("online",k),a.yb=k},o),window.addEventListener("offline",function(){a.yb&&a.Uc("online",o),a.yb=o},o)}}function Oc(a,b,c,d,e){this.id=Pc++,this.e=Nb("p:"+this.id+":"),this.La=k,this.ga={},this.T=[],this.zb=0,this.wb=[],this.V=o,this.oa=1e3,this.Vb=b||ca,this.Tb=c||ca,this.vb=d||ca,this.Gc=e||ca,this.N=a,this.Kc=l,this.Zb=[],this.Fb={},this.Md=0,this.qb=this.Bc=l,Sc(this,0),gc.xc().Xa("visible",this.Hd,this),-1===a.host.indexOf("fblocal")&&Nc.xc().Xa("online",this.Gd,this)}function Uc(a,b,c,d,e){a.e("Listen on "+b+" for "+c);var f={p:b},d=ib(d,function(a){return Ia(a)});"{}"!==c&&(f.q=d),a.Ba("l",f,function(d){a.e("listen response",d),d=d.s,"ok"!==d&&Vc(a,b,c),e&&e(d)})}function Wc(a){var b=a.Ea;a.V&&b&&a.Ba("auth",{cred:b.vd},function(c){var d=c.s,c=c.d||"error";"ok"!==d&&a.Ea===b&&delete a.Ea,a.vb("ok"===d),b.Zc?"ok"!==d&&b.Nb&&b.Nb(d,c):(b.Zc=k,b.W&&b.W(d,c))})}function Xc(a,b,c,d){a.V?Yc(a,"o",b,c,d):a.wb.push({Ic:b,action:"o",data:c,C:d})}function Yc(a,b,c,d,e){c={p:c,d:d},a.e("onDisconnect "+b,c),a.Ba(b,c,function(a){e&&setTimeout(function(){e(a.s)},0)})}function Zc(a,b,c,d,e,f){c={p:c,d:d},u(f)&&(c.h=f),a.T.push({action:b,hd:c,C:e}),a.zb++,b=a.T.length-1,a.V&&$c(a,b)}function $c(a,b){var c=a.T[b].action,d=a.T[b].hd,e=a.T[b].C;a.T[b].Jd=a.V,a.Ba(c,d,function(d){a.e(c+" response",d),delete a.T[b],a.zb--,0===a.zb&&(a.T=[]),e&&e(d.s)})}function Sc(a,b){z(!a.ba,"Scheduling a connect when we're already connected/ing?"),a.Ra&&clearTimeout(a.Ra),a.Ra=setTimeout(function(){if(a.Ra=l,a.La){a.e("Making a connection attempt"),a.Bc=(new Date).getTime(),a.qb=l;var b=w(a.Ub,a),d=w(a.xb,a),e=w(a.dd,a),f=a.id+":"+Tc++;a.ba=new Hc(f,a.N,b,d,e,function(b){a.La=o,g(Error(b))})}},b)}function Vc(a,b,c){b=new K(b).toString(),c||(c="{}");var d=a.ga[b][c];return delete a.ga[b][c],d}function ad(){this.n=this.D=l}function bd(a,b,c){if(b.f())a.D=c,a.n=l;else if(a.D!==l)a.D=a.D.va(b,c);else{a.n==l&&(a.n=new wc);var d=G(b);a.n.contains(d)||a.n.add(d,new ad),a=a.n.get(d),b=Ka(b),bd(a,b,c)}}function cd(a,b){if(b.f())return a.D=l,a.n=l,k;if(a.D!==l){if(a.D.I())return o;var c=a.D;return a.D=l,c.w(function(b,c){bd(a,new K(b),c)}),cd(a,b)}return a.n!==l?(c=G(b),b=Ka(b),a.n.contains(c)&&cd(a.n.get(c),b)&&a.n.remove(c),a.n.f()?(a.n=l,k):o):k}function dd(a,b,c){a.D!==l?c(b,a.D):a.w(function(a,e){var f=new K(b.toString()+"/"+a);dd(e,f,c)})}function ed(){this.pa=R}function W(a,b){return a.pa.O(b)}function X(a,b,c){a.pa=a.pa.va(b,c)}function fd(){this.Ca=new ed,this.J=new ed,this.la=new ed,this.Bb=new Na}function gd(a,b){for(var c=W(a.Ca,b),d=W(a.J,b),e=L(a.Bb,b),f=o,h=e;h!==l;){if(h.k()!==l){f=k;break}h=h.parent()}return f?o:(c=hd(c,d,e),c!==d?(X(a.J,b,c),k):o)}function hd(a,b,c){return c.f()?a:c.k()!==l?b:(a=a||R,c.w(function(d){var d=d.name(),e=a.P(d),f=b.P(d),h=L(c,d),e=hd(e,f,h);a=a.G(d,e)}),a)}function id(a,b){hb(b,function(b){var d=b.Od,b=L(a.Bb,b.path),e=b.k();z(e!==l,"pendingPut should not be null."),e===d&&M(b,l)})}function jd(){this.Sa=[]}function kd(a,b){if(0!==b.length)for(var c=0;c<b.length;c++)a.Sa.push(b[c])}function Y(a,b,c,d){this.type=a,this.qa=b,this.aa=c,this.Db=d}function ld(a){this.K=a,this.ma=[],this.tc=new jd}function md(a,b,c,d,e){a.ma.push({type:b,W:c,cancel:d,S:e});var d=[],f=nd(a.i);a.ob&&f.push(new Y("value",a.i));for(var h=0;h<f.length;h++)if(f[h].type===b){var i=new J(a.K.u,a.K.path);f[h].aa&&(i=i.F(f[h].aa)),d.push({W:e?w(c,e):c,ld:new U(f[h].qa,i),Db:f[h].Db})}kd(a.tc,d)}function od(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=e.type,h=new J(a.K.u,a.K.path);for(b[d].aa&&(h=h.F(b[d].aa)),h=new U(b[d].qa,h),"value"!==e.type||h.mb()?"value"!==e.type&&(f+=" "+h.name()):f+="("+h.U()+")",P(a.K.u.o.id+": event:"+a.K.path+":"+a.K.Ja()+":"+f),f=0;f<a.ma.length;f++){var i=a.ma[f];b[d].type===i.type&&c.push({W:i.S?w(i.W,i.S):i.W,ld:h,Db:e.Db})}}kd(a.tc,c)}function nd(a){var b=[];if(!a.I()){var c=l;a.w(function(a,e){b.push(new Y("child_added",e,a,c)),c=a})}return b}function pd(a){a.ob||(a.ob=k,od(a,[new Y("value",a.i)]))}function qd(a,b){ld.call(this,a),this.i=b}function rd(a,b){this.Ob=a,this.Cc=b}function sd(a,b,c,d,e){var f=a.O(c),h=b.O(c),d=new rd(d,e),e=td(d,c,f,h),h=!f.f()&&!h.f()&&f.j()!==h.j();if(e||h)for(f=c,c=e;f.parent()!==l;){var i=a.O(f),e=b.O(f),m=f.parent();if(!d.Ob||L(d.Ob,m).k()){var n=b.O(m),p=[],f=f.Z<f.m.length?f.m[f.m.length-1]:l;i.f()?(i=n.ea(f,e),p.push(new Y("child_added",e,f,i))):e.f()?p.push(new Y("child_removed",i,f)):(i=n.ea(f,e),h&&p.push(new Y("child_moved",e,f,i)),c&&p.push(new Y("child_changed",e,f,i))),d.Cc(m,n,p)}h&&(h=o,c=k),f=m}}function td(a,b,c,d){var e,f=[];return c===d?e=o:c.I()&&d.I()?e=c.k()!==d.k():c.I()?(ud(a,b,R,d,f),e=k):d.I()?(ud(a,b,c,R,f),e=k):e=ud(a,b,c,d,f),e?a.Cc(b,d,f):c.j()!==d.j()&&a.Cc(b,d,l),e}function ud(a,b,c,d,e){var x,O,I,F,f=o,h=!a.Ob||!L(a.Ob,b).f(),i=[],m=[],n=[],p=[],q={},s={};for(x=c.Ta(),I=Va(x),O=d.Ta(),F=Va(O);I!==l||F!==l;)if(c=I===l?1:F===l?-1:I.key===F.key?0:$b({name:I.key,ia:I.value.j()},{name:F.key,ia:F.value.j()}),0>c?(f=ua(q,I.key),u(f)?(n.push({vc:I,Qc:i[f]}),i[f]=l):(s[I.key]=m.length,m.push(I)),f=k,I=Va(x)):(c>0?(f=ua(s,F.key),u(f)?(n.push({vc:m[f],Qc:F}),m[f]=l):(q[F.key]=i.length,i.push(F)),f=k):(c=b.F(F.key),(c=td(a,c,I.value,F.value))&&(p.push(F),f=k),I.value.j()!==F.value.j()&&(n.push({vc:I,Qc:F}),f=k),I=Va(x)),F=Va(O)),!h&&f)return k;for(h=0;h<m.length;h++)(q=m[h])&&(c=b.F(q.key),td(a,c,q.value,R),e.push(new Y("child_removed",q.value,q.key)));for(h=0;h<i.length;h++)(q=i[h])&&(c=b.F(q.key),m=d.ea(q.key,q.value),td(a,c,R,q.value),e.push(new Y("child_added",q.value,q.key,m)));for(h=0;h<n.length;h++)q=n[h].vc,i=n[h].Qc,c=b.F(i.key),m=d.ea(i.key,i.value),e.push(new Y("child_moved",i.value,i.key,m)),(c=td(a,c,q.value,i.value))&&p.push(i);for(h=0;h<p.length;h++)a=p[h],m=d.ea(a.key,a.value),e.push(new Y("child_changed",a.value,a.key,m));return f}function vd(){this.R=this.ua=l,this.set={}}function wd(a){return a.contains("default")}function xd(a){return a.ua!=l&&wd(a)}function yd(a,b){ld.call(this,a),this.i=R,this.ac(b,nd(b))}function zd(a,b,c,d){if(a.I())return l;var e=l;return(d?a.uc:a.w).call(a,function(a,d){return Ad(b,a,d)&&(e=a,c--,0===c)?k:void 0}),e}function Ad(a,b,c){for(var d=0;d<a.length;d++)if(!a[d](b,c.j()))return o;return k}function Bd(a,b){this.o=a,this.g=b,this.Sb=b.pa,this.ka=new Na}function Ed(a,b,c,d,e){var h,f=a.get(b);if(h=f){h=o;for(var i=f.ma.length-1;i>=0;i--){var m=f.ma[i];if(!(c&&m.type!==c||d&&m.W!==d||e&&m.S!==e)&&(f.ma.splice(i,1),h=k,c&&d))break}h=h&&!(0<f.ma.length)}return(c=h)&&a.remove(b),c}function Fd(a,b,c,d,e,f){var h=b.path(),h=L(a.ka,h),c=c?c.Ja():l,i=[];if(c&&"default"!==c?Ed(b,c,d,e,f)&&i.push(c):hb(b.keys(),function(a){Ed(b,a,d,e,f)&&i.push(a)}),b.f()&&M(h,l),c=Cd(h),0<i.length&&!c){for(var m=h,n=h.parent(),c=o;!c&&n;){var p=n.k();if(p){z(!xd(p));var q=m.name(),s=o;V(p,function(a,b){s=b.yc(q)||s}),s&&(c=k)}m=n,n=n.parent()}if(m=l,!xd(b)){n=b.ua,b.ua=l;var x=[],O=function(b){var c=b.k();if(c&&wd(c))x.push(c.path()),c.ua==l&&c.setActive(Dd(a,c));else{if(c){c.ua!=l||c.setActive(Dd(a,c));var d={};V(c,function(a,b){b.i.w(function(a){D(d,a)||(d[a]=k,a=c.path().F(a),x.push(a))})})}b.w(O)}};O(h),m=x,n&&n()}return c?l:m}return l}function Gd(a,b,c){Pa(L(a.ka,b),function(a){(a=a.k())&&V(a,function(a,b){pd(b)})},c,k)}function Hd(a,b,c){function d(a){for(var b=0;b<c.length;++b)if(c[b].contains(a))return k;return o}var e=a.Sb,f=a.g.pa;a.Sb=f,sd(e,f,b,a.ka,function(c,e,f){if(b.contains(c)){var n=d(c);n&&Gd(a,c,o),a.$b(c,e,f),n&&Gd(a,c,k)}else a.$b(c,e,f)}),d(b)&&Gd(a,b,k),e=L(a.ka,b),Pa(e,function(a){(a=a.k())&&V(a,function(a,b){b.$a()})},k,k),Qa(e,function(a){(a=a.k())&&V(a,function(a,b){b.$a()})},o)}function Cd(a){return Qa(a,function(a){return a.k()&&xd(a.k())})}function Dd(a,b){if(a.o){var c=b.keys(),d=a.o,e=function(d){if("ok"!==d){var e="Unknown Error";"too_big"===d?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==d&&(e="Client doesn't have permission to access the desired data.");var f=Error(d+": "+e);f.code=d.toUpperCase(),Q("on() or once() for "+b.path().toString()+" failed: "+f.toString()),b&&(V(b,function(a,b){for(var c=0;c<b.ma.length;c++){var d=b.ma[c];d.cancel&&(d.S?w(d.cancel,d.S):d.cancel)(f)}}),Fd(a,b))}else hb(c,function(a){(a=b.get(a))&&pd(a)}),hb(c,function(a){(a=b.get(a))&&a.$a()})},f=b.toString(),h=b.path().toString();return d.ga[h]=d.ga[h]||{},z(!d.ga[h][f],"listen() called twice for same path/queryId."),d.ga[h][f]={Za:b.Za(),C:e},d.V&&Uc(d,h,f,b.Za(),e),w(a.o.nd,a.o,b.path(),b.toString(),b.Za())}return ca}function Id(a,b,c,d,e,f){var h=b.path();if(f!==l){var i=[];return d.I()||d.w(function(a,b){i.push({path:h.F(a),Ga:b}),delete f[a]}),Ub(f,function(a,b){i.push({path:h.F(b),Ga:R})}),i}var b=a.lb(h,b,d,e),m=R,n=[];return Ub(b,function(b,f){var h=new K(f);b?m=m.G(f,d.O(h)):n=n.concat(Jd(a,d.O(h),L(c,h),e))}),[{path:h,Ga:m}].concat(n)}function Kd(a,b,c,d,e){for(var f=L(a.ka,b),h=f.parent(),i=o;!i&&h!==l;){var m=h.k();m!==l&&(wd(m)?i=k:(m=a.lb(b,m,c,d),f=f.name(),ua(m,f)&&(i=k))),f=h,h=h.parent()}return i?[{path:b,Ga:c}]:(h=L(a.ka,b),i=h.k(),i!==l?wd(i)?[{path:b,Ga:c}]:Id(a,i,h,c,d,e):Jd(a,c,h,d))}function Jd(a,b,c,d){var e=c.k();if(e!==l)return wd(e)?[{path:c.path(),Ga:b}]:Id(a,e,c,b,d,l);var f=[];return c.w(function(c){var e=b.I()?R:b.P(c.name()),c=Jd(a,e,c,d);f=f.concat(c)}),f}function Ld(a,b){return a&&"object"==typeof a?(z(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Md(a,b){var d,c=Ld(a.j(),b);if(a.I()){var e=Ld(a.k(),b);return e!==a.k()||c!==a.j()?new Wb(e,c):a}return d=a,c!==a.j()&&(d=d.gb(c)),a.w(function(a,c){var e=Md(c,b);e!==c&&(d=d.G(a,e))}),d}function Nd(a){this.N=a,this.$=qc(a),this.o=new Oc(this.N,w(this.Vb,this),w(this.Tb,this),w(this.vb,this),w(this.Gc,this));var b=w(function(){return new nc(this.$,this.o)},this),a=a.toString();pc[a]||(pc[a]=b()),this.md=pc[a],this.eb=new Na,this.fb=new ed,this.g=new fd,this.H=new Bd(this.o,this.g.la),this.zc=new ed,this.Ac=new Bd(l,this.zc),Od(this,"connected",o),Od(this,"authenticated",o),this.Q=new ad}function Pd(a){return a=W(a.zc,new K(".info/serverTimeOffset")).U()||0,(new Date).getTime()+a}function Qd(a){return a=a={timestamp:Pd(a)},a.timestamp=a.timestamp||(new Date).getTime(),a}function Od(a,b,c){b=new K("/.info/"+b),X(a.zc,b,T(c)),Hd(a.Ac,b,[b])}function Ud(a,b,c,d){var e=T(c);Xc(a.o,b.toString(),e.U(k),function(c){"ok"===c&&bd(a.Q,b,e),Td(d,c)})}function Vd(a){lc(a.$,"deprecated_on_disconnect"),a.md.Pc.deprecated_on_disconnect=k
}function Td(a,b,c){if(a)if("ok"==b)a(l,c);else{var d=b=(b||"error").toUpperCase();c&&(d+=": "+c),c=Error(d),c.code=b,a(c)}}function Wd(a,b){var c=b||a.eb;if(b||Xd(a,c),c.k()!==l){var d=Yd(a,c);if(z(0<d.length),2!==d[0].status&&4!==d[0].status){for(var e=c.path(),f=0;f<d.length;f++)z(1===d[f].status,"tryToSendTransactionQueue_: items in queue should all be run."),d[f].status=2,d[f].kd++;c=W(a.g.J,e).hash(),X(a.g.J,e,W(a.g.la,e));for(var h=W(a.fb,e).U(k),i=Gb(),m={},n=0;n<d.length;n++)d[n].nc&&(m[d[n].path.toString()]=d[n].path);var q,p=[];for(q in m)p.push(m[q]);for(f=0;f<p.length;f++)M(L(a.g.Bb,p[f]),i);a.o.put(e.toString(),h,function(b){for(a.e("transaction put response",{path:e.toString(),status:b}),f=0;f<p.length;f++){var c=L(a.g.Bb,p[f]),h=c.k();z(h!==l,"sendTransactionQueue_: pendingPut should not be null."),h===i&&(M(c,l),X(a.g.J,p[f],W(a.g.Ca,p[f])))}if("ok"===b){for(b=[],f=0;f<d.length;f++)d[f].status=3,d[f].C&&(c=Zd(a,d[f].path),b.push(w(d[f].C,l,l,k,c))),d[f].kc();for(Xd(a,L(a.eb,e)),Wd(a),f=0;f<b.length;f++)b[f]()}else{if("datastale"===b)for(f=0;f<d.length;f++)d[f].status=4===d[f].status?5:1;else for(Q("transaction at "+e+" failed: "+b),f=0;f<d.length;f++)d[f].status=5,d[f].lc=b;b=Rd(a,e),Hd(a.H,b,[e])}},c)}}else c.mb()&&c.w(function(b){Wd(a,b)})}function Rd(a,b){var c=$d(a,b),d=c.path(),e=Yd(a,c);if(X(a.g.la,d,W(a.g.J,d)),X(a.fb,d,W(a.g.J,d)),0!==e.length){for(var f=c=W(a.g.la,d),h=[],i=0;i<e.length;i++){var p,m=La(d,e[i].path),n=o;if(z(m!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===e[i].status)n=k,p=e[i].lc;else if(1===e[i].status)if(25<=e[i].kd)n=k,p="maxretry";else{var q=e[i].update(c.O(m).U());u(q)?(za("transaction failed: Data returned ",q),q=T(q),c=c.va(m,q),e[i].nc&&(f=f.va(m,q))):(n=k,p="nodata")}n&&(e[i].status=3,setTimeout(e[i].kc,0),e[i].C&&(n=new J(a,e[i].path),m=new U(c.O(m),n),"nodata"===p?h.push(w(e[i].C,l,l,o,m)):h.push(w(e[i].C,l,Error(p),o,m))))}for(p=W(a.g.J,d).j(),c=c.gb(p),f=f.gb(p),X(a.fb,d,c),X(a.g.la,d,f),Xd(a,a.eb),i=0;i<h.length;i++)h[i]();Wd(a)}return d}function $d(a,b){for(var c,d=a.eb;(c=G(b))!==l&&d.k()===l;)d=L(d,c),b=Ka(b);return d}function Yd(a,b){var c=[];return ae(a,b,c),c.sort(function(a,b){return a.ed-b.ed}),c}function ae(a,b,c){var d=b.k();if(d!==l)for(var e=0;e<d.length;e++)c.push(d[e]);b.w(function(b){ae(a,b,c)})}function Xd(a,b){var c=b.k();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d,M(b,0<c.length?c:l)}b.w(function(b){Xd(a,b)})}function Sd(a,b){var c=$d(a,b).path(),d=L(a.eb,b);return Qa(d,function(a){be(a)}),be(d),Pa(d,function(a){be(a)}),c}function be(a){var b=a.k();if(b!==l){for(var c=[],d=-1,e=0;e<b.length;e++)4!==b[e].status&&(2===b[e].status?(z(d===e-1,"All SENT items should be at beginning of queue."),d=e,b[e].status=4,b[e].lc="set"):(z(1===b[e].status),b[e].kc(),b[e].C&&c.push(w(b[e].C,l,Error("set"),o,l))));for(-1===d?M(a,l):b.length=d+1,e=0;e<c.length;e++)c[e]()}}function Zd(a,b){var c=new J(a,b);return new U(W(a.fb,b),c)}function ce(){this.ab={}}function $(a,b,c){this.Eb=a,this.R=b,this.Aa=c}function J(){var a,b,c;if(arguments[0]instanceof Nd)c=arguments[0],a=arguments[1];else{A("new Firebase",1,2,arguments.length);var d=arguments[0];b=a="";var e=k,f="";if(v(d)){var h=d.indexOf("//");if(h>=0)var i=d.substring(0,h-1),d=d.substring(h+2);h=d.indexOf("/"),-1===h&&(h=d.length),a=d.substring(0,h);var d=d.substring(h+1),m=a.split(".");if(3==m.length){if(h=m[2].indexOf(":"),e=h>=0?"https"===i:k,"firebase"===m[1])Pb(a+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");else for(b=m[0],f="",d=("/"+d).split("/"),i=0;i<d.length;i++)if(0<d[i].length){h=d[i];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch(n){}f+="/"+h}b=b.toLowerCase()}else b=l}e||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Q("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),a=new pb(a,e,b),b=new K(f),e=b.toString(),(d=!v(a.host))||(d=0===a.host.length)||(d=!xa(a.tb))||(d=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),d=!(v(e)&&0!==e.length&&!wa.test(e))),d&&g(Error(B("new Firebase",1,o)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')),arguments[1]?arguments[1]instanceof ce?c=arguments[1]:g(Error("Expected a valid Firebase.Context for second argument to new Firebase()")):c=ce.xc(),e=a.toString(),d=ua(c.ab,e),d||(d=new Nd(a),c.ab[e]=d),c=d,a=b}H.call(this,c,a)}function Mb(a,b){z(!b||a===k||a===o,"Can't turn on custom loggers persistently."),a===k?("undefined"!=typeof console&&("function"==typeof console.log?Kb=w(console.log,console):"object"==typeof console.log&&(Kb=function(a){console.log(a)})),b&&nb.setItem("logging_enabled","true")):a?Kb=a:(Kb=l,nb.removeItem("logging_enabled"))}var j=void 0,k=!0,l=null,o=!1,t,ba=this;Math.floor(2147483648*Math.random()).toString(36);var pa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},qa=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,sa={},va=/[\[\].#$\/]/,wa=/[\[\].#$]/;H.prototype.Jc=function(){return A("Query.ref",0,0,arguments.length),new J(this.u,this.path)},H.prototype.ref=H.prototype.Jc,H.prototype.Xa=function(a,b){A("Query.on",2,4,arguments.length),Ea("Query.on",a,o),C("Query.on",2,b,o);var c=Ha("Query.on",arguments[2],arguments[3]);return this.u.Mb(this,a,b,c.cancel,c.S),b},H.prototype.on=H.prototype.Xa,H.prototype.ub=function(a,b,c){A("Query.off",0,3,arguments.length),Ea("Query.off",a,k),C("Query.off",2,b,k),ta("Query.off",3,c),this.u.cc(this,a,b,c)},H.prototype.off=H.prototype.ub,H.prototype.Id=function(a,b){function c(h){f&&(f=o,e.ub(a,c),b.call(d.S,h))}A("Query.once",2,4,arguments.length),Ea("Query.once",a,o),C("Query.once",2,b,o);var d=Ha("Query.once",arguments[2],arguments[3]),e=this,f=k;this.Xa(a,c,function(b){e.ub(a,c),d.cancel&&d.cancel.call(d.S,b)})},H.prototype.once=H.prototype.Id,H.prototype.Bd=function(a){return A("Query.limit",1,1,arguments.length),(!ga(a)||Math.floor(a)!==a||0>=a)&&g("Query.limit: First argument must be a positive integer."),new H(this.u,this.path,a,this.da,this.sa,this.xa,this.Qa)},H.prototype.limit=H.prototype.Bd,H.prototype.Rd=function(a,b){return A("Query.startAt",0,2,arguments.length),Da("Query.startAt",1,a,k),Fa("Query.startAt",b),u(a)||(b=a=l),new H(this.u,this.path,this.za,a,b,this.xa,this.Qa)},H.prototype.startAt=H.prototype.Rd,H.prototype.wd=function(a,b){return A("Query.endAt",0,2,arguments.length),Da("Query.endAt",1,a,k),Fa("Query.endAt",b),new H(this.u,this.path,this.za,this.da,this.sa,a,b)},H.prototype.endAt=H.prototype.wd,H.prototype.Ja=function(){var a=Ja(Ia(this));return"{}"===a?"default":a},t=K.prototype,t.toString=function(){for(var a="",b=this.Z;b<this.m.length;b++)""!==this.m[b]&&(a+="/"+this.m[b]);return a||"/"},t.parent=function(){if(this.Z>=this.m.length)return l;for(var a=[],b=this.Z;b<this.m.length-1;b++)a.push(this.m[b]);return new K(a,0)},t.F=function(a){for(var b=[],c=this.Z;c<this.m.length;c++)b.push(this.m[c]);if(a instanceof K)for(c=a.Z;c<a.m.length;c++)b.push(a.m[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new K(b,0)},t.f=function(){return this.Z>=this.m.length},t.contains=function(a){var b=0;if(this.m.length>a.m.length)return o;for(;b<this.m.length;){if(this.m[b]!==a.m[b])return o;++b}return k},t=Na.prototype,t.k=function(){return this.z.value},t.mb=function(){return 0<this.z.pc},t.f=function(){return this.k()===l&&!this.mb()},t.w=function(a){for(var b in this.z.children)a(new Na(b,this,this.z.children[b]))},t.path=function(){return new K(this.Ab===l?this.Aa:this.Ab.path()+"/"+this.Aa)},t.name=aa("Aa"),t.parent=aa("Ab"),t=N.prototype,t.na=function(a,b){return new N(this.Na,this.ca.na(a,b,this.Na).copy(l,l,o,l,l))},t.remove=function(a){return new N(this.Na,this.ca.remove(a,this.Na).copy(l,l,o,l,l))},t.get=function(a){for(var b,c=this.ca;!c.f();){if(b=this.Na(a,c.key),0===b)return c.value;0>b?c=c.left:b>0&&(c=c.right)}return l},t.f=function(){return this.ca.f()},t.count=function(){return this.ca.count()},t.sb=function(){return this.ca.sb()},t.Va=function(){return this.ca.Va()},t.ya=function(a){return this.ca.ya(a)},t.Ka=function(a){return this.ca.Ka(a)},t.Ta=function(a){return new Ua(this.ca,a)},t=Wa.prototype,t.copy=function(a,b,c,d,e){return new Wa(a!=l?a:this.key,b!=l?b:this.value,c!=l?c:this.color,d!=l?d:this.left,e!=l?e:this.right)},t.count=function(){return this.left.count()+1+this.right.count()},t.f=r(o),t.ya=function(a){return this.left.ya(a)||a(this.key,this.value)||this.right.ya(a)},t.Ka=function(a){return this.right.Ka(a)||a(this.key,this.value)||this.left.Ka(a)},t.sb=function(){return Xa(this).key},t.Va=function(){return this.right.f()?this.key:this.right.Va()},t.na=function(a,b,c){var d,e;return e=this,d=c(a,e.key),e=0>d?e.copy(l,l,l,e.left.na(a,b,c),l):0===d?e.copy(l,b,l,l,l):e.copy(l,l,l,l,e.right.na(a,b,c)),$a(e)},t.remove=function(a,b){var c,d;if(c=this,0>b(a,c.key))!c.left.f()&&!c.left.M()&&!c.left.left.M()&&(c=bb(c)),c=c.copy(l,l,l,c.left.remove(a,b),l);else{if(c.left.M()&&(c=cb(c)),!c.right.f()&&!c.right.M()&&!c.right.left.M()&&(c=db(c),c.left.left.M()&&(c=cb(c),c=db(c))),0===b(a,c.key)){if(c.right.f())return Sa;d=Xa(c.right),c=c.copy(d.key,d.value,l,l,ab(c.right))}c=c.copy(l,l,l,l,c.right.remove(a,b))}return $a(c)},t.M=aa("color"),t=fb.prototype,t.copy=function(){return this},t.na=function(a,b){return new Wa(a,b,j,j,j)},t.remove=function(){return this},t.get=r(l),t.count=r(0),t.f=r(k),t.ya=r(o),t.Ka=r(o),t.sb=r(l),t.Va=r(l),t.M=r(o);var Sa=new fb,gb=Array.prototype,hb=gb.forEach?function(a,b,c){gb.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;d>f;f++)f in e&&b.call(c,e[f],f,a)},ib=gb.map?function(a,b,c){return gb.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=v(a)?a.split(""):a,h=0;d>h;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e};ka(kb,jb),kb.prototype.reset=function(){this.B[0]=1732584193,this.B[1]=4023233417,this.B[2]=2562383102,this.B[3]=271733878,this.B[4]=3285377520,this.Sc=this.nb=0},kb.prototype.update=function(a,b){u(b)||(b=a.length);var c=this.oc,d=this.nb,e=0;if(v(a))for(;b>e;)c[d++]=a.charCodeAt(e++),64==d&&(lb(this,c),d=0);else for(;b>e;)c[d++]=a[e++],64==d&&(lb(this,c),d=0);this.nb=d,this.Sc+=b},mb.prototype.setItem=function(a,b){D(this.Ma,a)||(this.length+=1),this.Ma[a]=b},mb.prototype.getItem=function(a){return D(this.Ma,a)?this.Ma[a]:l},mb.prototype.removeItem=function(a){D(this.Ma,a)&&(this.length-=1,delete this.Ma[a])};var nb=l;if("undefined"!=typeof sessionStorage)try{sessionStorage.setItem("firebase-sentinel","cache"),sessionStorage.removeItem("firebase-sentinel"),nb=sessionStorage}catch(ob){nb=new mb}else nb=new mb;pb.prototype.toString=function(){return(this.ec?"https://":"http://")+this.host};var rb,sb,tb,ub;ub=tb=sb=rb=o;var wb;if(wb=vb()){var xb=ba.navigator;rb=0==wb.indexOf("Opera"),sb=!rb&&-1!=wb.indexOf("MSIE"),tb=!rb&&-1!=wb.indexOf("WebKit"),ub=!rb&&!tb&&"Gecko"==xb.product}var yb=sb,zb=ub,Ab=tb,Bb;if(rb&&ba.opera){var Cb=ba.opera.version;"function"==typeof Cb&&Cb()}else zb?Bb=/rv\:([^\);]+)(\)|;)/:yb?Bb=/MSIE\s+([^\);]+)(\)|;)/:Ab&&(Bb=/WebKit\/(\S+)/),Bb&&Bb.exec(vb());var Db=l,Eb=l,Gb,Hb=1;Gb=function(){return Hb++};var Kb=l,Lb=k;t=Wb.prototype,t.I=r(k),t.j=aa("Ya"),t.gb=function(a){return new Wb(this.D,a)},t.P=function(){return R},t.O=function(a){return G(a)===l?this:R},t.ea=r(l),t.G=function(a,b){return new S(new N,this.Ya).G(a,b)},t.va=function(a,b){var c=G(a);return c===l?b:this.G(c,R.va(Ka(a),b))},t.f=r(o),t.Rb=r(0),t.U=function(a){return a&&this.j()!==l?{".value":this.k(),".priority":this.j()}:this.k()},t.hash=function(){var a="";this.j()!==l&&(a+="priority:"+Xb(this.j())+":");var b=typeof this.D,a=a+(b+":"),a="number"===b?a+Vb(this.D):a+this.D;return Ib(a)},t.k=aa("D"),t.toString=function(){return"string"==typeof this.D?'"'+this.D+'"':this.D},t=S.prototype,t.I=r(o),t.j=aa("Ya"),t.gb=function(a){return new S(this.n,a)},t.G=function(a,b){var c=this.n.remove(a);return b&&b.f()&&(b=l),b!==l&&(c=c.na(a,b)),b&&b.j()!==l?new Yb(c,l,this.Ya):new S(c,this.Ya)},t.va=function(a,b){var c=G(a);if(c===l)return b;var d=this.P(c).va(Ka(a),b);return this.G(c,d)},t.f=function(){return this.n.f()},t.Rb=function(){return this.n.count()};var Zb=/^\d+$/;t=S.prototype,t.U=function(a){if(this.f())return l;var b={},c=0,d=0,e=k;if(this.w(function(f,h){b[f]=h.U(a),c++,e&&Zb.test(f)?d=Math.max(d,Number(f)):e=o}),!a&&e&&2*c>d){var h,f=[];for(h in b)f[h]=b[h];return f}return a&&this.j()!==l&&(b[".priority"]=this.j()),b},t.hash=function(){var a="";return this.j()!==l&&(a+="priority:"+Xb(this.j())+":"),this.w(function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)}),""===a?"":Ib(a)},t.P=function(a){return a=this.n.get(a),a===l?R:a},t.O=function(a){var b=G(a);return b===l?this:this.P(b).O(Ka(a))},t.ea=function(a){return Ta(this.n,a)},t.$c=function(){return this.n.sb()},t.ad=function(){return this.n.Va()},t.w=function(a){return this.n.ya(a)},t.uc=function(a){return this.n.Ka(a)},t.Ta=function(){return this.n.Ta()},t.toString=function(){var a="{",b=k;return this.w(function(c,d){b?b=o:a+=", ",a+='"'+c+'" : '+d.toString()}),a+="}"};var R=new S(new N);ka(Yb,S),t=Yb.prototype,t.G=function(a,b){var c=this.P(a),d=this.n,e=this.ra;return c!==l&&(d=d.remove(a),e=e.remove({name:a,ia:c.j()})),b&&b.f()&&(b=l),b!==l&&(d=d.na(a,b),e=e.na({name:a,ia:b.j()},b)),new Yb(d,e,this.j())},t.ea=function(a,b){var c=Ta(this.ra,{name:a,ia:b.j()});return c?c.name:l},t.w=function(a){return this.ra.ya(function(b,c){return a(b.name,c)})},t.uc=function(a){return this.ra.Ka(function(b,c){return a(b.name,c)})},t.Ta=function(){return this.ra.Ta(function(a,b){return{key:a.name,value:b}})},t.$c=function(){return this.ra.f()?l:this.ra.sb().name},t.ad=function(){return this.ra.f()?l:this.ra.Va().name};var bc=Math.log(2);U.prototype.U=function(){return A("Firebase.DataSnapshot.val",0,0,arguments.length),this.z.U()},U.prototype.val=U.prototype.U,U.prototype.xd=function(){return A("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.z.U(k)},U.prototype.exportVal=U.prototype.xd,U.prototype.F=function(a){A("Firebase.DataSnapshot.child",0,1,arguments.length),ga(a)&&(a=String(a)),Ga("Firebase.DataSnapshot.child",a);var b=new K(a),c=this.bc.F(b);return new U(this.z.O(b),c)},U.prototype.child=U.prototype.F,U.prototype.yc=function(a){A("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Ga("Firebase.DataSnapshot.hasChild",a);var b=new K(a);return!this.z.O(b).f()},U.prototype.hasChild=U.prototype.yc,U.prototype.j=function(){return A("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.z.j()},U.prototype.getPriority=U.prototype.j,U.prototype.forEach=function(a){if(A("Firebase.DataSnapshot.forEach",1,1,arguments.length),C("Firebase.DataSnapshot.forEach",1,a,o),this.z.I())return o;var b=this;return this.z.w(function(c,d){return a(new U(d,b.bc.F(c)))})},U.prototype.forEach=U.prototype.forEach,U.prototype.mb=function(){return A("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.z.I()?o:!this.z.f()},U.prototype.hasChildren=U.prototype.mb,U.prototype.name=function(){return A("Firebase.DataSnapshot.name",0,0,arguments.length),this.bc.name()},U.prototype.name=U.prototype.name,U.prototype.Rb=function(){return A("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.z.Rb()},U.prototype.numChildren=U.prototype.Rb,U.prototype.Jc=function(){return A("Firebase.DataSnapshot.ref",0,0,arguments.length),this.bc},U.prototype.ref=U.prototype.Jc,ec.prototype.wc=function(){},ec.prototype.Uc=function(a){for(var b=this.rb[a]||[],c=0;c<b.length;c++)b[c].W.apply(b[c].S,Array.prototype.slice.call(arguments,1))},ec.prototype.Xa=function(a,b,c){fc(this,a),this.rb[a]=this.rb[a]||[],this.rb[a].push({W:b,S:c}),(a=this.wc(a))&&b.apply(c,a)},ec.prototype.ub=function(a,b,c){fc(this,a);for(var a=this.rb[a]||[],d=0;d<a.length;d++)if(a[d].W===b&&(!c||c===a[d].S)){a.splice(d,1);break}},ka(gc,ec),da(gc),gc.prototype.wc=function(a){return z("visible"===a),[this.hb]},kc.prototype.get=function(){return jc(this.jb)},mc.prototype.get=function(){var a=this.ud.get(),b=jc(a);if(this.Pb)for(var c in this.Pb)b[c]-=this.Pb[c];return this.Pb=a,b},nc.prototype.gd=function(){var d,a=this.hc.get(),b={},c=o;for(d in a)0<a[d]&&D(this.Pc,d)&&(b[d]=a[d],c=k);c&&(a=this.o,a.V&&(b={c:b},a.e("reportStats",b),a.Ba("s",b))),setTimeout(w(this.gd,this),6e5*Math.random())};var oc={},pc={},rc=l;"undefined"!=typeof MozWebSocket?rc=MozWebSocket:"undefined"!=typeof WebSocket&&(rc=WebSocket);var tc;sc.prototype.open=function(a,b){this.ha=b,this.Fd=a,this.e("websocket connecting to "+this.Oa),this.Y=new rc(this.Oa),this.kb=o;var c=this;this.Y.onopen=function(){c.e("Websocket connected."),c.kb=k},this.Y.onclose=function(){c.e("Websocket connection was disconnected."),c.Y=l,c.Ia()},this.Y.onmessage=function(a){if(c.Y!==l)if(a=a.data,lc(c.$,"bytes_received",a.length),uc(c),c.frames!==l)vc(c,a);else{a:{if(z(c.frames===l,"We already have a frame buffer"),4>=a.length){var b=Number(a);if(!isNaN(b)){c.Rc=b,c.frames=[],a=l;break a}}c.Rc=1,c.frames=[]}a!==l&&vc(c,a)}},this.Y.onerror=function(a){c.e("WebSocket error.  Closing connection."),a.data&&c.e(a.data),c.Ia()}},sc.prototype.start=function(){},sc.isAvailable=function(){return!("undefined"!=typeof navigator&&"Opera"===navigator.appName||rc===l||tc)},sc.prototype.send=function(a){uc(this),a=y(a),lc(this.$,"bytes_sent",a.length),a=Sb(a,16384),1<a.length&&this.Y.send(String(a.length));for(var b=0;b<a.length;b++)this.Y.send(a[b])},sc.prototype.Ib=function(){this.Fa=k,this.pb&&(clearInterval(this.pb),this.pb=l),this.Y&&(this.Y.close(),this.Y=l)},sc.prototype.Ia=function(){this.Fa||(this.e("WebSocket is closing itself"),this.Ib(),this.ha&&(this.ha(this.kb),this.ha=l))},sc.prototype.close=function(){this.Fa||(this.e("WebSocket is being closed"),this.Ib())},t=wc.prototype,t.add=function(a,b){this.set[a]=b!==l?b:k},t.contains=function(a){return D(this.set,a)},t.get=function(a){return this.contains(a)?this.set[a]:j},t.remove=function(a){delete this.set[a]},t.f=function(){var a;a:{for(a in this.set){a=o;break a}a=k}return a},t.count=function(){var b,a=0;for(b in this.set)a++;return a},t.keys=function(){var b,a=[];for(b in this.set)D(this.set,b)&&a.push(b);return a};var xc="pLPCommand",yc="pRTLPCB",Ac,Bc;zc.prototype.open=function(a,b){function c(){if(!d.Fa){d.ja=new Cc(function(a,b,c){if(lc(d.$,"bytes_received",y(arguments).length),d.ja)if(d.Da&&(clearTimeout(d.Da),d.Da=l),d.kb=k,"start"==a)d.id=b,d.fd=c;else if("close"===a)if(b){d.ja.fc=o;var h=d.cd;h.qc=b,h.Ha=function(){d.Ia()},h.qc<h.Pa&&(h.Ha(),h.Ha=l)}else d.Ia();else g(Error("Unrecognized command received: "+a))},function(a,b){lc(d.$,"bytes_received",y(arguments).length);var c=d.cd;for(c.Yb[a]=b;c.Yb[c.Pa];){var e=c.Yb[c.Pa];delete c.Yb[c.Pa];for(var f=0;f<e.length;++f)e[f]&&c.Fc(e[f]);if(c.Pa===c.qc){c.Ha&&(clearTimeout(c.Ha),c.Ha(),c.Ha=l);break}c.Pa++}},function(){d.Ia()},d.Lb);var a={start:"t"};a.ser=Math.floor(1e8*Math.random()),d.ja.jc&&(a.cb=d.ja.jc),a.v="5",d.gc&&(a.s=d.gc),a=d.Lb(a),d.e("Connecting via long-poll to "+a),Dc(d.ja,a,function(){})}}this.Wc=0,this.Q=b,this.cd=new hc(a),this.Fa=o;var d=this;if(this.Da=setTimeout(function(){d.e("Timed out trying to connect."),d.Ia(),d.Da=l},3e4),"complete"===document.readyState)c();else{var e=o,f=function(){document.body?e||(e=k,c()):setTimeout(f,10)};document.addEventListener?(document.addEventListener("DOMContentLoaded",f,o),window.addEventListener("load",f,o)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&f()},o),window.attachEvent("onload",f,o))}},zc.prototype.start=function(){var a=this.ja,b=this.fd;for(a.Dd=this.id,a.Ed=b,a.mc=k;Ec(a););a=this.id,b=this.fd,this.Wa=document.createElement("iframe");var c={dframe:"t"};c.id=a,c.pw=b,a=this.Lb(c),this.Wa.src=a,this.Wa.style.display="none",document.body.appendChild(this.Wa)},zc.isAvailable=function(){return!(Bc||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.Td||!Ac&&!k)},zc.prototype.Ib=function(){this.Fa=k,this.ja&&(this.ja.close(),this.ja=l),this.Wa&&(document.body.removeChild(this.Wa),this.Wa=l),this.Da&&(clearTimeout(this.Da),this.Da=l)},zc.prototype.Ia=function(){this.Fa||(this.e("Longpoll is closing itself"),this.Ib(),this.Q&&(this.Q(this.kb),this.Q=l))},zc.prototype.close=function(){this.Fa||(this.e("Longpoll is being closed."),this.Ib())},zc.prototype.send=function(a){a=y(a),lc(this.$,"bytes_sent",a.length);for(var a=ra(a),a=Fb(a,k),a=Sb(a,1840),b=0;b<a.length;b++){var c=this.ja;c.Cb.push({Nd:this.Wc,Sd:a.length,Yc:a[b]}),c.mc&&Ec(c),this.Wc++}},Cc.prototype.close=function(){if(this.mc=o,this.X){this.X.wa.body.innerHTML="";var a=this;setTimeout(function(){a.X!==l&&(document.body.removeChild(a.X),a.X=l)},0)}var b=this.ha;b&&(this.ha=l,b())};var Gc=[zc,{isAvailable:r(o)},sc];Hc.prototype.Lc=function(a){a={t:"d",d:a},1!==this.ta&&g("Connection is not connected"),this.Jb.send(a)},Hc.prototype.Ub=function(a){this.Fc(a)},Hc.prototype.close=function(){2!==this.ta&&(this.e("Closing realtime connection."),this.ta=2,Mc(this),this.Q&&(this.Q(),this.Q=l))},ka(Nc,ec),da(Nc),Nc.prototype.wc=function(a){return z("online"===a),[this.yb]};var Pc=0,Tc=0;t=Oc.prototype,t.Ba=function(a,b,c){var d=++this.Md,a={r:d,a:a,b:b};this.e(y(a)),this.V?this.ba.Lc(a):this.Zb.push(a),c&&(this.Fb[d]=c)},t.ib=function(a,b,c){this.Ea={vd:a,Zc:o,W:b,Nb:c},this.e("Authenticating using credential: "+this.Ea),Wc(this)},t.Kb=function(){delete this.Ea,this.vb(o),this.V&&this.Ba("unauth",{})},t.nd=function(a,b,c){a=a.toString(),Vc(this,a,b)&&this.V&&(this.e("Unlisten on "+a+" for "+b),a={p:a},c=ib(c,function(a){return Ia(a)}),"{}"!==b&&(a.q=c),this.Ba("u",a))},t.Dc=function(a,b){this.V?Yc(this,"oc",a,l,b):this.wb.push({Ic:a,action:"oc",data:l,C:b})},t.put=function(a,b,c,d){Zc(this,"p",a,b,c,d)},t.Ub=function(a){if("r"in a){this.e("from server: "+y(a));var b=a.r,c=this.Fb[b];c&&(delete this.Fb[b],c(a.b))}else"error"in a&&g("A server-side error has occurred: "+a.error),"a"in a&&(b=a.a,a=a.b,this.e("handleServerMessage",b,a),"d"===b?this.Vb(a.p,a.d):"m"===b?this.Vb(a.p,a.d,k):"c"===b?(b=a.p,a=(a=a.q)?ib(a,function(a){return Ja(a)}).join("$"):"{}",(a=Vc(this,b,a))&&a.C&&a.C("permission_denied")):"ac"===b?(b=a.s,a=a.d,c=this.Ea,delete this.Ea,c&&c.Nb&&c.Nb(b,a),this.vb(o)):"sd"===b?this.Kc?this.Kc(a):"msg"in a&&"undefined"!=typeof console&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: ")):Ob("Unrecognized action received from server: "+y(b)+"\nAre you using the latest client?"))},t.xb=function(a){for(this.e("connection ready"),this.V=k,this.qb=(new Date).getTime(),this.Gc({serverTimeOffset:a-(new Date).getTime()}),a=0;a<this.Zb.length;a++)this.ba.Lc(this.Zb[a]);this.Zb=[],Wc(this);for(var b in this.ga)for(var c in this.ga[b])a=this.ga[b][c],Uc(this,b,c,a.Za,a.C);for(b=0;b<this.T.length;b++)this.T[b]&&$c(this,b);for(;this.wb.length;)b=this.wb.shift(),Yc(this,b.action,b.Ic,b.data,b.C);this.Tb(k)},t.Hd=function(a){a&&!this.hb&&3e5===this.oa&&(this.e("Window became visible.  Reducing delay."),this.oa=1e3,this.ba||Sc(this,0)),this.hb=a},t.Gd=function(a){a?(this.e("Browser went online.  Reconnecting."),this.oa=1e3,this.La=k,this.ba||Sc(this,0)):(this.e("Browser went offline.  Killing connection; don't reconnect."),this.La=o,this.ba&&this.ba.close())},t.dd=function(){this.e("data client disconnected"),this.V=o,this.ba=l;for(var a=0;a<this.T.length;a++){var b=this.T[a];b&&"h"in b.hd&&b.Jd&&(b.C&&b.C("disconnect"),delete this.T[a],this.zb--)}if(0===this.zb&&(this.T=[]),this.La)this.hb?this.qb&&(3e4<(new Date).getTime()-this.qb&&(this.oa=1e3),this.qb=l):(this.e("Window isn't visible.  Delaying reconnect."),this.oa=3e5,this.Bc=(new Date).getTime()),a=Math.max(0,this.oa-((new Date).getTime()-this.Bc)),a*=Math.random(),this.e("Trying to reconnect in "+a+"ms"),Sc(this,a),this.oa=Math.min(3e5,1.3*this.oa);else for(var c in this.Fb)delete this.Fb[c];this.Tb(o)},t.Ua=function(){this.La=o,this.ba?this.ba.close():(this.Ra&&(clearTimeout(this.Ra),this.Ra=l),this.dd())},t.Gb=function(){this.La=k,this.oa=1e3,Sc(this,0)},ad.prototype.w=function(a){this.n!==l&&V(this.n,function(b,c){a(b,c)})},ed.prototype.toString=function(){return this.pa.toString()},fd.prototype.set=function(a,b){var c=this,d=[];return hb(b,function(a){var b=a.path,a=a.Ga,h=Gb();M(L(c.Bb,b),h),X(c.J,b,a),d.push({path:b,Od:h})}),d},jd.prototype.$a=function(){for(var a=0;a<this.Sa.length;a++)if(this.Sa[a]){var b=this.Sa[a];this.Sa[a]=l;var c=b.W;c(b.ld,b.Db)}this.Sa=[]},ld.prototype.$b=function(a,b){b=this.ac(a,b),b!=l&&od(this,b)},ld.prototype.$a=function(){this.tc.$a()},ka(qd,ld),qd.prototype.ac=function(a,b){return this.i=a,this.ob&&b!=l&&b.push(new Y("value",this.i)),b},qd.prototype.lb=function(){return{}},ka(vd,wc),t=vd.prototype,t.setActive=function(a){this.ua=a},t.defaultView=function(){return wd(this)?this.get("default"):l},t.path=aa("R"),t.toString=function(){return ib(this.keys(),function(a){return"default"===a?"{}":a}).join("$")},t.Za=function(){var a=[];return V(this,function(b,c){a.push(c.K)}),a},ka(yd,ld),yd.prototype.ac=function(a,b){if(b===l)return b;var c=[],d=this.K;u(d.da)&&(u(d.sa)&&d.sa!=l?c.push(function(a,b){var c=Qb(b,d.da);return c>0||0===c&&a>=d.sa}):c.push(function(a,b){return 0<=Qb(b,d.da)})),u(d.xa)&&(u(d.Qa)?c.push(function(a,b){var c=Qb(b,d.xa);return 0>c||0===c&&a<=d.Qa}):c.push(function(a,b){return 0>=Qb(b,d.xa)}));var e=l,f=l;if(u(this.K.za))if(u(this.K.da)){if(e=zd(a,c,this.K.za,o)){var h=a.P(e).j();c.push(function(a,b){var c=Qb(b,h);return 0>c||0===c&&e>=a})}}else if(f=zd(a,c,this.K.za,k)){var i=a.P(f).j();c.push(function(a,b){var c=Qb(b,i);return c>0||0===c&&a>=f})}for(var m=[],n=[],p=[],q=[],s=0;s<b.length;s++){var x=b[s].aa,O=b[s].qa;switch(b[s].type){case"child_added":Ad(c,x,O)&&(this.i=this.i.G(x,O),n.push(b[s]));break;case"child_removed":this.i.P(x).f()||(this.i=this.i.G(x,l),m.push(b[s]));break;case"child_changed":!this.i.P(x).f()&&Ad(c,x,O)&&(this.i=this.i.G(x,O),q.push(b[s]));break;case"child_moved":var I=!this.i.P(x).f(),F=Ad(c,x,O);I?F?(this.i=this.i.G(x,O),p.push(b[s])):(m.push(new Y("child_removed",this.i.P(x),x)),this.i=this.i.G(x,l)):F&&(this.i=this.i.G(x,O),n.push(b[s]))}}var Qc=e||f;if(Qc){var Rc=(s=f!==l)?this.i.$c():this.i.ad(),ic=o,Ya=o,Za=this;(s?a.uc:a.w).call(a,function(a,b){return!Ya&&Rc===l&&(Ya=k),Ya&&ic?k:(ic?(m.push(new Y("child_removed",Za.i.P(a),a)),Za.i=Za.i.G(a,l)):Ya&&(n.push(new Y("child_added",b,a)),Za.i=Za.i.G(a,b)),Rc===a&&(Ya=k),a===Qc&&(ic=k),void 0)})}for(s=0;s<n.length;s++)c=n[s],x=this.i.ea(c.aa,c.qa),m.push(new Y("child_added",c.qa,c.aa,x));for(s=0;s<p.length;s++)c=p[s],x=this.i.ea(c.aa,c.qa),m.push(new Y("child_moved",c.qa,c.aa,x));for(s=0;s<q.length;s++)c=q[s],x=this.i.ea(c.aa,c.qa),m.push(new Y("child_changed",c.qa,c.aa,x));return this.ob&&0<m.length&&m.push(new Y("value",this.i)),m},yd.prototype.yc=function(a){return this.i.P(a)!==R},yd.prototype.lb=function(a,b,c){var d={};this.i.I()||this.i.w(function(a){d[a]=k});var e=this.i,c=W(c,new K("")),f=new Na;M(L(f,this.K.path),k);var b=R.va(a,b),h=this;return sd(c,b,a,f,function(a,b,c){c!==l&&a.toString()===h.K.path.toString()&&h.ac(b,c)}),this.i.I()||this.i.w(function(a){d[a]=k}),this.i=e,d},Bd.prototype.Mb=function(a,b,c,d,e){var f=a.path,h=L(this.ka,f),i=h.k();i===l?(i=new vd,M(h,i)):z(!i.f(),"We shouldn't be storing empty QueryMaps");var m=a.Ja();if(i.contains(m))a=i.get(m),md(a,b,c,d,e);else{var n=this.g.pa.O(f),n=a="default"===a.Ja()?new qd(a,n):new yd(a,n);if(xd(i)||Cd(h))i.add(m,n),i.R||(i.R=n.K.path);else{var p,q;i.f()||(p=i.toString(),q=i.Za()),i.add(m,n),i.R||(i.R=n.K.path),i.setActive(Dd(this,i)),p&&q&&this.o.nd(i.path(),p,q)}xd(i)&&Pa(h,function(a){(a=a.k())&&(a.ua&&a.ua(),a.ua=l)}),md(a,b,c,d,e),(b=(b=Qa(L(this.ka,f),function(a){var b;return(b=a.k())&&(b=a.k().defaultView())&&(b=a.k().defaultView().ob),b?k:void 0},k))||this.o===l&&!W(this.g,f).f())&&pd(a)}a.$a()},Bd.prototype.cc=function(a,b,c,d){var e=L(this.ka,a.path).k();return e===l?l:Fd(this,e,a,b,c,d)},Bd.prototype.$b=function(a,b,c){a=L(this.ka,a).k(),a!==l&&V(a,function(a,e){e.$b(b,c)})},Bd.prototype.lb=function(a,b,c,d){var e={};return V(b,function(b,h){var i=h.lb(a,c,d);Ub(i,function(a,b){e[b]=a?k:ua(e,b)||o})}),c.I()||c.w(function(a){D(e,a)||(e[a]=o)}),e},t=Nd.prototype,t.toString=function(){return(this.N.ec?"https://":"http://")+this.N.host},t.name=function(){return this.N.tb},t.Vb=function(a,b,c){var d,e=[];if(9<=a.length&&a.lastIndexOf(".priority")===a.length-9)a=new K(a.substring(0,a.length-9)),d=W(this.g.Ca,a).gb(b),e.push(a);else if(c){a=new K(a),d=W(this.g.Ca,a);for(var f in b){var h=new K(f);d=d.va(h,T(b[f])),e.push(a.F(f))}}else a=new K(a),d=T(b),e.push(a);for(b=Kd(this.H,a,d,this.g.J,c?b:l),c=o,f=0;f<b.length;++f){d=b[f];var h=this.g,i=d.path;X(h.Ca,i,d.Ga),c=gd(h,i)||c}c&&(a=Rd(this,a)),Hd(this.H,a,e)},t.Tb=function(a){if(Od(this,"connected",a),a===o){this.e("onDisconnectEvents");var b=this,c=[],d=Qd(this),a=dd,e=new ad;dd(this.Q,new K(""),function(a,b){bd(e,a,Md(b,d))}),a(e,new K(""),function(a,d){var e=Kd(b.H,a,d,b.g.J,l);c.push.apply(c,b.g.set(a,e)),e=Sd(b,a),Rd(b,e),Hd(b.H,e,[a])}),id(this.g,c),this.Q=new ad}},t.Gc=function(a){var b=this;Tb(a,function(a,d){Od(b,d,a)})},t.vb=function(a){Od(this,"authenticated",a)},t.ib=function(a,b,c){"firebaseio-demo.com"===this.N.domain&&Q("FirebaseRef.auth() not supported on demo (*.firebaseio-demo.com) Firebases. Please use on production (*.firebaseio.com) Firebases only."),this.o.ib(a,function(a,c){Td(b,a,c)},function(a,b){if(Q("auth() was canceled: "+b),c){var f=Error(b);f.code=a.toUpperCase(),c(f)}})},t.Kb=function(){this.o.Kb()},t.bb=function(a,b,c,d){this.e("set",{path:a.toString(),value:b,ia:c});var e=Qd(this),b=T(b,c),e=Md(b,e),e=Kd(this.H,a,e,this.g.J,l),f=this.g.set(a,e),h=this;this.o.put(a.toString(),b.U(k),function(b){"ok"!==b&&Q("set at "+a+" failed: "+b),id(h.g,f),gd(h.g,a);var c=Rd(h,a);Hd(h.H,c,[]),Td(d,b)}),e=Sd(this,a),Rd(this,e),Hd(this.H,e,[a])},t.update=function(a,b,c){this.e("update",{path:a.toString(),value:b});var m,d=W(this.g.la,a),e=k,f=[],h=Qd(this),i=[];for(m in b){var e=o,n=T(b[m]),n=Md(n,h),d=d.G(m,n),p=a.F(m);f.push(p),n=Kd(this.H,p,n,this.g.J,l),i=i.concat(this.g.set(a,n))}if(e)P("update() called with empty data.  Don't do anything."),Td(c,"ok");else{var q=this;Zc(this.o,"m",a.toString(),b,function(b){z("ok"===b||"permission_denied"===b,"merge at "+a+" failed."),"ok"!==b&&Q("update at "+a+" failed: "+b),id(q.g,i),gd(q.g,a);var d=Rd(q,a);Hd(q.H,d,[]),Td(c,b)},j),b=Sd(this,a),Rd(this,b),Hd(q.H,b,f)}},t.Mc=function(a,b,c){this.e("setPriority",{path:a.toString(),ia:b});var d=Qd(this),d=Ld(b,d),d=W(this.g.J,a).gb(d),d=Kd(this.H,a,d,this.g.J,l),e=this.g.set(a,d),f=this;this.o.put(a.toString()+"/.priority",b,function(a){id(f.g,e),Td(c,a)}),a=Rd(this,a),Hd(f.H,a,[])},t.Dc=function(a,b){var c=this;this.o.Dc(a.toString(),function(d){"ok"===d&&cd(c.Q,a),Td(b,d)})},t.Mb=function(a,b,c,d,e){".info"===G(a.path)?this.Ac.Mb(a,b,c,d,e):this.H.Mb(a,b,c,d,e)},t.cc=function(a,b,c,d){if(".info"===G(a.path))this.Ac.cc(a,b,c,d);else{if(b=this.H.cc(a,b,c,d),c=b!==l){for(var c=this.g,d=a.path,e=[],f=0;f<b.length;++f)e[f]=W(c.Ca,b[f]);for(X(c.Ca,d,R),f=0;f<b.length;++f)X(c.Ca,b[f],e[f]);c=gd(c,d)}c&&(z(this.g.la.pa===this.H.Sb,"We should have raised any outstanding events by now.  Else, we'll blow them away."),X(this.g.la,a.path,W(this.g.J,a.path)),this.H.Sb=this.g.la.pa)}},t.Ua=function(){this.o.Ua()},t.Gb=function(){this.o.Gb()},t.Nc=function(a){if("undefined"!=typeof console){a?(this.hc||(this.hc=new mc(this.$)),a=this.hc.get()):a=this.$.get();var e,b=a,c=[],d=0;for(e in b)c[d++]=e;var f=function(a,b){return Math.max(b.length,a)};if(c.reduce)e=c.reduce(f,0);else{var h=0;hb(c,function(a){h=f.call(j,h,a)}),e=h}for(var i in a){for(b=a[i],c=i.length;e+2>c;c++)i+=" ";
console.log(i+b)}}},t.Oc=function(a){lc(this.$,a),this.md.Pc[a]=k},t.e=function(){P("r:"+this.o.id+":",arguments)},da(ce),ce.prototype.Ua=function(){for(var a in this.ab)this.ab[a].Ua()},ce.prototype.interrupt=ce.prototype.Ua,ce.prototype.Gb=function(){for(var a in this.ab)this.ab[a].Gb()},ce.prototype.resume=ce.prototype.Gb;var Z={Ad:function(a){var b=S.prototype.hash;S.prototype.hash=a;var c=Wb.prototype.hash;return Wb.prototype.hash=a,function(){S.prototype.hash=b,Wb.prototype.hash=c}}};Z.hijackHash=Z.Ad,Z.Ja=function(a){return a.Ja()},Z.queryIdentifier=Z.Ja,Z.Cd=function(a){return a.u.o.ga},Z.listens=Z.Cd,Z.Kd=function(a){return a.u.o.ba},Z.refConnection=Z.Kd,Z.pd=Oc,Z.DataConnection=Z.pd,Oc.prototype.sendRequest=Oc.prototype.Ba,Oc.prototype.interrupt=Oc.prototype.Ua,Z.qd=Hc,Z.RealTimeConnection=Z.qd,Hc.prototype.sendRequest=Hc.prototype.Lc,Hc.prototype.close=Hc.prototype.close,Z.od=pb,Z.ConnectionTarget=Z.od,Z.yd=function(){Ac=tc=k},Z.forceLongPolling=Z.yd,Z.zd=function(){Bc=k},Z.forceWebSockets=Z.zd,Z.Qd=function(a,b){a.u.o.Kc=b},Z.setSecurityDebugCallback=Z.Qd,Z.Nc=function(a,b){a.u.Nc(b)},Z.stats=Z.Nc,Z.Oc=function(a,b){a.u.Oc(b)},Z.statsIncrementCounter=Z.Oc,$.prototype.cancel=function(a){A("Firebase.onDisconnect().cancel",0,1,arguments.length),C("Firebase.onDisconnect().cancel",1,a,k),this.Eb.Dc(this.R,a)},$.prototype.cancel=$.prototype.cancel,$.prototype.remove=function(a){A("Firebase.onDisconnect().remove",0,1,arguments.length),E("Firebase.onDisconnect().remove",this.R),C("Firebase.onDisconnect().remove",1,a,k),Ud(this.Eb,this.R,l,a)},$.prototype.remove=$.prototype.remove,$.prototype.set=function(a,b){A("Firebase.onDisconnect().set",1,2,arguments.length),E("Firebase.onDisconnect().set",this.R),ya("Firebase.onDisconnect().set",a,o),C("Firebase.onDisconnect().set",2,b,k),Ud(this.Eb,this.R,a,b)},$.prototype.set=$.prototype.set,$.prototype.bb=function(a,b,c){A("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),E("Firebase.onDisconnect().setWithPriority",this.R),ya("Firebase.onDisconnect().setWithPriority",a,o),Da("Firebase.onDisconnect().setWithPriority",2,b,o),C("Firebase.onDisconnect().setWithPriority",3,c,k),(".length"===this.Aa||".keys"===this.Aa)&&g("Firebase.onDisconnect().setWithPriority failed: "+this.Aa+" is a read-only object.");var d=this.Eb,e=this.R,f=T(a,b);Xc(d.o,e.toString(),f.U(k),function(a){"ok"===a&&bd(d.Q,e,f),Td(c,a)})},$.prototype.setWithPriority=$.prototype.bb,$.prototype.update=function(a,b){A("Firebase.onDisconnect().update",1,2,arguments.length),E("Firebase.onDisconnect().update",this.R),Ca("Firebase.onDisconnect().update",a),C("Firebase.onDisconnect().update",2,b,k);var f,c=this.Eb,d=this.R,e=k;for(f in a)e=o;if(e)P("onDisconnect().update() called with empty data.  Don't do anything."),Td(b,k);else{e=c.o,f=d.toString();var h=function(e){if("ok"===e)for(var f in a){var h=T(a[f]);bd(c.Q,d.F(f),h)}Td(b,e)};e.V?Yc(e,"om",f,a,h):e.wb.push({Ic:f,action:"om",data:a,C:h})}},$.prototype.update=$.prototype.update;var de,ee=0,fe=[];de=function(a){var b=a===ee;ee=a;for(var c=Array(8),d=7;d>=0;d--)c[d]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(a%64),a=Math.floor(a/64);if(z(0===a),a=c.join(""),b){for(d=11;d>=0&&63===fe[d];d--)fe[d]=0;fe[d]++}else for(d=0;12>d;d++)fe[d]=Math.floor(64*Math.random());for(d=0;12>d;d++)a+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(fe[d]);return z(20===a.length,"NextPushId: Length should be 20."),a},ka(J,H);var ge=J,he=["Firebase"],ie=ba;!(he[0]in ie)&&ie.execScript&&ie.execScript("var "+he[0]);for(var je;he.length&&(je=he.shift());)!he.length&&u(ge)?ie[je]=ge:ie=ie[je]?ie[je]:ie[je]={};J.prototype.name=function(){return A("Firebase.name",0,0,arguments.length),this.path.f()?l:this.path.Z<this.path.m.length?this.path.m[this.path.m.length-1]:l},J.prototype.name=J.prototype.name,J.prototype.F=function(a){if(A("Firebase.child",1,1,arguments.length),ga(a))a=String(a);else if(!(a instanceof K))if(G(this.path)===l){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/")),Ga("Firebase.child",b)}else Ga("Firebase.child",a);return new J(this.u,this.path.F(a))},J.prototype.child=J.prototype.F,J.prototype.parent=function(){A("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return a===l?l:new J(this.u,a)},J.prototype.parent=J.prototype.parent,J.prototype.root=function(){A("Firebase.ref",0,0,arguments.length);for(var a=this;a.parent()!==l;)a=a.parent();return a},J.prototype.root=J.prototype.root,J.prototype.toString=function(){A("Firebase.toString",0,0,arguments.length);var a;if(this.parent()===l)a=this.u.toString();else{a=this.parent().toString()+"/";var b=this.name();a+=encodeURIComponent(String(b))}return a},J.prototype.toString=J.prototype.toString,J.prototype.set=function(a,b){return A("Firebase.set",1,2,arguments.length),E("Firebase.set",this.path),ya("Firebase.set",a,o),C("Firebase.set",2,b,k),this.u.bb(this.path,a,l,b)},J.prototype.set=J.prototype.set,J.prototype.update=function(a,b){return A("Firebase.update",1,2,arguments.length),E("Firebase.update",this.path),Ca("Firebase.update",a),C("Firebase.update",2,b,k),this.u.update(this.path,a,b)},J.prototype.update=J.prototype.update,J.prototype.bb=function(a,b,c){return A("Firebase.setWithPriority",2,3,arguments.length),E("Firebase.setWithPriority",this.path),ya("Firebase.setWithPriority",a,o),Da("Firebase.setWithPriority",2,b,o),C("Firebase.setWithPriority",3,c,k),(".length"===this.name()||".keys"===this.name())&&g("Firebase.setWithPriority failed: "+this.name()+" is a read-only object."),this.u.bb(this.path,a,b,c)},J.prototype.setWithPriority=J.prototype.bb,J.prototype.remove=function(a){A("Firebase.remove",0,1,arguments.length),E("Firebase.remove",this.path),C("Firebase.remove",1,a,k),this.set(l,a)},J.prototype.remove=J.prototype.remove,J.prototype.transaction=function(a,b,c){function d(){}A("Firebase.transaction",1,3,arguments.length),E("Firebase.transaction",this.path),C("Firebase.transaction",1,a,o),C("Firebase.transaction",2,b,k),u(c)&&"boolean"!=typeof c&&g(Error(B("Firebase.transaction",3,k)+"must be a boolean.")),(".length"===this.name()||".keys"===this.name())&&g("Firebase.transaction failed: "+this.name()+" is a read-only object."),"undefined"==typeof c&&(c=k);var e=this.u,f=this.path,h=c;e.e("transaction on "+f);var i=new J(e,f);i.Xa("value",d);var h={path:f,update:a,C:b,status:l,ed:Gb(),nc:h,kd:0,kc:function(){i.ub("value",d)},lc:l},m=h.update(W(e.fb,f).U());if(u(m)){za("transaction failed: Data returned ",m),h.status=1;var n=L(e.eb,f),p=n.k()||[];p.push(h),M(n,p),n="object"==typeof m&&D(m,".priority")?m[".priority"]:W(e.g.J,f).j(),X(e.fb,f,T(m,n)),h.nc&&(X(e.g.la,f,T(m,n)),Hd(e.H,f,[f])),Wd(e)}else h.kc(),h.C&&(e=Zd(e,f),h.C(l,o,e))},J.prototype.transaction=J.prototype.transaction,J.prototype.Mc=function(a,b){A("Firebase.setPriority",1,2,arguments.length),E("Firebase.setPriority",this.path),Da("Firebase.setPriority",1,a,o),C("Firebase.setPriority",2,b,k),this.u.Mc(this.path,a,b)},J.prototype.setPriority=J.prototype.Mc,J.prototype.push=function(a,b){A("Firebase.push",0,2,arguments.length),E("Firebase.push",this.path),ya("Firebase.push",a,k),C("Firebase.push",2,b,k);var c=Pd(this.u),c=de(c),c=this.F(c);return"undefined"!=typeof a&&a!==l&&c.set(a,b),c},J.prototype.push=J.prototype.push,J.prototype.ha=function(){return new $(this.u,this.path,this.name())},J.prototype.onDisconnect=J.prototype.ha,J.prototype.Ld=function(){Q("FirebaseRef.removeOnDisconnect() being deprecated. Please use FirebaseRef.onDisconnect().remove() instead."),this.ha().remove(),Vd(this.u)},J.prototype.removeOnDisconnect=J.prototype.Ld,J.prototype.Pd=function(a){Q("FirebaseRef.setOnDisconnect(value) being deprecated. Please use FirebaseRef.onDisconnect().set(value) instead."),this.ha().set(a),Vd(this.u)},J.prototype.setOnDisconnect=J.prototype.Pd,J.prototype.ib=function(a,b,c){A("Firebase.auth",1,3,arguments.length),v(a)||g(Error(B("Firebase.auth",1,o)+"must be a valid credential (a string).")),C("Firebase.auth",2,b,k),C("Firebase.auth",3,b,k),this.u.ib(a,b,c)},J.prototype.auth=J.prototype.ib,J.prototype.Kb=function(){this.u.Kb()},J.prototype.unauth=J.prototype.Kb,J.enableLogging=Mb,J.ServerValue={TIMESTAMP:{".sv":"timestamp"}},J.INTERNAL=Z,J.Context=ce}(),angular.module("firebase",[]).value("Firebase",Firebase),angular.module("firebase").factory("angularFire",["$q","$parse","$timeout",function(e,t,i){return function(n,r,a,o){var u=new AngularFire(e,t,i,n);return u.associate(r,a,o)}}]),AngularFire.prototype={disassociate:function(){var e=this;e._unregister&&e._unregister(),this._fRef.off("value")},associate:function(e,t,i){var n=this;void 0==i&&(i=[]);var r=this._q.defer(),a=r.promise;return this._fRef.on("value",function(a){var o=!1;if(r&&(o=r,r=!1),n._remoteValue=i,a&&void 0!=a.val()){var u=a.val();if(typeof u!=typeof i)return n._log("Error: type mismatch"),void 0;var s=Object.prototype.toString;if(s.call(i)!=s.call(u))return n._log("Error: type mismatch"),void 0;if(n._remoteValue=angular.copy(u),angular.equals(u,n._parse(t)(e)))return}n._timeout(function(){n._resolve(e,t,o,n._remoteValue)})}),a},_log:function(e){console&&console.log&&console.log(e)},_resolve:function(e,t,i,n){var r=this;this._parse(t).assign(e,angular.copy(n)),this._remoteValue=angular.copy(n),i&&(i.resolve(function(){r.disassociate()}),this._watch(e,t))},_watch:function(e,t){var i=this;i._unregister=e.$watch(t,function(){if(i._initial)return i._initial=!1,void 0;var n=JSON.parse(angular.toJson(i._parse(t)(e)));angular.equals(n,i._remoteValue)||i._fRef.ref().set(n)},!0)}},angular.module("firebase").factory("angularFireCollection",["$timeout",function(e){function t(e,t){this.$ref=e.ref(),this.$id=e.name(),this.$index=t,angular.extend(this,{priority:e.getPriority()},e.val())}return function(i,n){function r(e){return e?h[e]+1:0}function a(e,t){h[t.$id]=e,f.splice(e,0,t)}function o(e){var t=h[e];f.splice(t,1),h[e]=void 0}function u(e,t){f[e]=t}function s(e,t,i){f.splice(e,1),f.splice(t,0,i),c(e,t)}function c(e,t){var i=f.length;t=t||i,t>i&&(t=i);for(var n=e;t>n;n++){var r=f[n];r.$index=h[r.$id]=n}}var l,f=[],h={};return l="string"==typeof i?new Firebase(i):i,n&&"function"==typeof n&&l.once("value",n),l.on("child_added",function(i,n){e(function(){var e=r(n);a(e,new t(i,e)),c(e)})}),l.on("child_removed",function(t){e(function(){var e=t.name(),i=h[e];o(e),c(i)})}),l.on("child_changed",function(i,n){e(function(){var e=h[i.name()],a=r(n),o=new t(i,e);u(e,o),a!==e&&s(e,a,o)})}),l.on("child_moved",function(t,i){e(function(){var e=h[t.name()],n=r(i),a=f[e];s(e,n,a)})}),f.add=function(e,t){var i;return i=t?l.ref().push(e,t):l.ref().push(e)},f.remove=function(e){var t=angular.isString(e)?f[h[e]]:e;t.$ref.remove()},f.update=function(e){var t=angular.isString(e)?f[h[e]]:e,i={};angular.forEach(t,function(e,t){0!==t.indexOf("$")&&(i[t]=e)}),t.$ref.set(i)},f}}]),angular.module("firebase").factory("angularFireAuth",["$rootScope","$parse","$timeout","$location","$route",function(e,t,i,n,r){function a(e){var t=e.split(".");if(!t instanceof Array||3!==t.length)throw new Error("Invalid JWT");var i=t[1];return JSON.parse(decodeURIComponent(escape(window.atob(i))))}function o(e,n,r,a){n&&i(function(){t(n).assign(e,r),a()})}function u(e,t,i){e.authRequired&&!i._authenticated&&(i._redirectTo=void 0===e.pathTo?n.path():e.pathTo===t?"/":e.pathTo,n.replace(),n.path(t))}return{initialize:function(t,i){var n=this;if(i=i||{},this._scope=e,i.scope&&(this._scope=i.scope),i.name&&(this._name=i.name),this._cb=function(){},i.callback&&"function"==typeof i.callback&&(this._cb=i.callback),this._redirectTo=null,this._authenticated=!1,i.path&&(u(r.current,i.path,n),e.$on("$routeChangeStart",function(e,t){u(t,i.path,n)})),this._ref=new Firebase(t),i.simple&&i.simple===!1)return o(this._scope,this._name,null),void 0;if(!window.FirebaseSimpleLogin){var a=new Error("FirebaseSimpleLogin undefined, did you include firebase-simple-login.js?");return e.$broadcast("angularFireAuth:error",a),void 0}var s=new FirebaseSimpleLogin(this._ref,function(t,i){n._cb(t,i),t?e.$broadcast("angularFireAuth:error",t):i?n._loggedIn(i):n._loggedOut()});this._authClient=s},login:function(t,i){switch(t){case"github":case"persona":case"twitter":case"facebook":case"password":if(this._authClient)this._authClient.login(t,i);else{var n=new Error("Simple Login not initialized");e.$broadcast("angularFireAuth:error",n)}break;default:var r,o=this;try{r=a(t),this._ref.auth(t,function(t){t?e.$broadcast("angularFireAuth:error",t):o._loggedIn()})}catch(u){e.$broadcast("angularFireAuth:error",u)}}},logout:function(){this._authClient?this._authClient.logout():(this._ref.unauth(),this._loggedOut())},_loggedIn:function(t){var i=this;this._authenticated=!0,o(this._scope,this._name,t,function(){e.$broadcast("angularFireAuth:login",t),i._redirectTo&&(n.replace(),n.path(i._redirectTo),i._redirectTo=null)})},_loggedOut:function(){this._authenticated=!1,o(this._scope,this._name,null,function(){e.$broadcast("angularFireAuth:logout")})}}}]);