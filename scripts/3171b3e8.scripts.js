"use strict";window.App=angular.module("xwcApp",["firebase"]),App.config(function($routeProvider){$routeProvider.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}),App.controller("MainCtrl",function($scope,angularFireCollection){window.localStorage&&($scope.userName=localStorage.getItem("user-name")||"",$scope.$watch("userName",function(newValue){localStorage.setItem("user-name",newValue)}));var today=(new Date).toISOString().substr(0,10),fireRef=new Firebase("https://xiawucha.firebaseio.com/orderlists/"+today);$scope.list=angularFireCollection(fireRef,$scope,"list",{}),$scope.doOrder=function(){for(var i=$scope.list.length;i--;)if($scope.list[i].name==$scope.userName)return $scope.list[i].$ref.child("want").set($scope.userWant),$scope.userWant="",!1;return $scope.list.add({name:$scope.userName,want:$scope.userWant}),$scope.userWant="",!1}});